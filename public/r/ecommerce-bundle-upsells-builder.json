{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "ecommerce-bundle-upsells-builder",
  "type": "registry:block",
  "registryDependencies": [
    "https://ui.woilasoft.com/r/badge.json",
    "https://ui.woilasoft.com/r/button.json",
    "https://ui.woilasoft.com/r/card.json",
    "https://ui.woilasoft.com/r/switch.json"
  ],
  "files": [
    {
      "path": "registry/default/blocks/ecommerce-bundle-upsells-builder.tsx",
      "content": "\"use client\";\r\r\n\r\r\nimport { useState } from \"react\";\r\r\nimport Image from \"next/image\";\r\r\nimport { ShoppingCart } from \"lucide-react\";\r\r\n\r\r\nimport { cn } from \"@/lib/utils\";\r\r\nimport {\r\r\n  Card,\r\r\n  CardContent,\r\r\n  CardDescription,\r\r\n  CardHeader,\r\r\n  CardTitle,\r\r\n} from \"@/registry/default/ui/card\";\r\r\nimport { Switch } from \"@/registry/default/ui/switch\";\r\r\nimport { Button } from \"@/registry/default/ui/button\";\r\r\nimport { Badge } from \"@/registry/default/ui/badge\";\r\r\n\r\r\ninterface AddOnItem {\r\r\n  id: string;\r\r\n  name: string;\r\r\n  description: string;\r\r\n  price: number;\r\r\n  image: string;\r\r\n}\r\r\n\r\r\ninterface UpsellBundleBuilderProps {\r\r\n  product: {\r\r\n    id: string;\r\r\n    name: string;\r\r\n    description: string;\r\r\n    price: number;\r\r\n    image: string;\r\r\n  };\r\r\n  addOns: AddOnItem[];\r\r\n}\r\r\n\r\r\nexport default function UpsellBundleBuilder({\r\r\n  product = {\r\r\n    id: \"main-product\",\r\r\n    name: \"Premium Wireless Headphones\",\r\r\n    description:\r\r\n      \"Studio-quality sound with active noise cancellation and 30-hour battery life.\",\r\r\n    price: 199.99,\r\r\n    image: \"/placeholder.svg?height=200&width=200\",\r\r\n  },\r\r\n  addOns = [\r\r\n    {\r\r\n      id: \"addon-1\",\r\r\n      name: \"Protective Case\",\r\r\n      description:\r\r\n        \"Durable hardshell case with water-resistant exterior and custom fit.\",\r\r\n      price: 29.99,\r\r\n      image: \"/placeholder.svg?height=100&width=100\",\r\r\n    },\r\r\n    {\r\r\n      id: \"addon-2\",\r\r\n      name: \"Extended Warranty\",\r\r\n      description:\r\r\n        \"Additional 2-year coverage for accidental damage and technical support.\",\r\r\n      price: 39.99,\r\r\n      image: \"/placeholder.svg?height=100&width=100\",\r\r\n    },\r\r\n    {\r\r\n      id: \"addon-3\",\r\r\n      name: \"Premium Audio Cable\",\r\r\n      description:\r\r\n        \"Gold-plated 3.5mm audio cable for lossless wired listening experience.\",\r\r\n      price: 19.99,\r\r\n      image: \"/placeholder.svg?height=100&width=100\",\r\r\n    },\r\r\n    {\r\r\n      id: \"addon-4\",\r\r\n      name: \"Wireless Charging Pad\",\r\r\n      description:\r\r\n        \"Fast-charging Qi wireless charging pad compatible with your headphones.\",\r\r\n      price: 34.99,\r\r\n      image: \"/placeholder.svg?height=100&width=100\",\r\r\n    },\r\r\n  ],\r\r\n}: UpsellBundleBuilderProps) {\r\r\n  const [selectedAddOns, setSelectedAddOns] = useState<Record<string, boolean>>(\r\r\n    {},\r\r\n  );\r\r\n\r\r\n  const handleToggleAddOn = (id: string) => {\r\r\n    setSelectedAddOns((prev) => ({\r\r\n      ...prev,\r\r\n      [id]: !prev[id],\r\r\n    }));\r\r\n  };\r\r\n\r\r\n  const calculateTotal = () => {\r\r\n    const addOnsTotal = addOns.reduce((sum, addon) => {\r\r\n      return sum + (selectedAddOns[addon.id] ? addon.price : 0);\r\r\n    }, 0);\r\r\n\r\r\n    return product.price + addOnsTotal;\r\r\n  };\r\r\n\r\r\n  const selectedCount = Object.values(selectedAddOns).filter(Boolean).length;\r\r\n\r\r\n  return (\r\r\n    <div className=\"mx-auto w-full max-w-3xl px-4 py-8 md:py-12\">\r\r\n      {/* Main Product */}\r\r\n      <Card className=\"mb-6 border-2\">\r\r\n        <CardHeader className=\"pb-3\">\r\r\n          <div className=\"flex flex-col items-start gap-4 md:flex-row\">\r\r\n            <div className=\"bg-muted relative aspect-square w-full overflow-hidden rounded-md md:w-1/3\">\r\r\n              <Image\r\r\n                src={product.image || \"/placeholder.svg\"}\r\r\n                alt={product.name}\r\r\n                fill\r\r\n                className=\"object-cover\"\r\r\n              />\r\r\n            </div>\r\r\n            <div className=\"flex-1\">\r\r\n              <Badge variant=\"secondary\" className=\"mb-2\">\r\r\n                Base Product\r\r\n              </Badge>\r\r\n              <CardTitle className=\"text-xl md:text-2xl\">\r\r\n                {product.name}\r\r\n              </CardTitle>\r\r\n              <CardDescription className=\"mt-2 text-sm md:text-base\">\r\r\n                {product.description}\r\r\n              </CardDescription>\r\r\n            </div>\r\r\n            <div className=\"text-xl font-bold md:text-2xl\">\r\r\n              ${product.price.toFixed(2)}\r\r\n            </div>\r\r\n          </div>\r\r\n        </CardHeader>\r\r\n      </Card>\r\r\n\r\r\n      {/* Add-ons Section */}\r\r\n      <div className=\"mb-6\">\r\r\n        <div className=\"mb-4 flex items-center justify-between\">\r\r\n          <h3 className=\"text-lg font-medium\">Customize Your Bundle</h3>\r\r\n          <span className=\"text-muted-foreground text-sm\">\r\r\n            {selectedCount} add-on{selectedCount !== 1 ? \"s\" : \"\"} selected\r\r\n          </span>\r\r\n        </div>\r\r\n\r\r\n        <div className=\"space-y-4\">\r\r\n          {addOns.map((addon) => (\r\r\n            <Card\r\r\n              key={addon.id}\r\r\n              className={cn(\r\r\n                \"hover:border-primary/50 border transition-all\",\r\r\n                selectedAddOns[addon.id]\r\r\n                  ? \"border-primary/50 bg-primary/5\"\r\r\n                  : \"\",\r\r\n              )}\r\r\n            >\r\r\n              <CardContent className=\"p-4\">\r\r\n                <div className=\"flex items-center gap-4\">\r\r\n                  <div className=\"bg-muted relative h-16 w-16 flex-shrink-0 overflow-hidden rounded-md\">\r\r\n                    <Image\r\r\n                      src={addon.image || \"/placeholder.svg\"}\r\r\n                      alt={addon.name}\r\r\n                      fill\r\r\n                      className=\"object-cover\"\r\r\n                    />\r\r\n                  </div>\r\r\n\r\r\n                  <div className=\"min-w-0 flex-1\">\r\r\n                    <h4 className=\"truncate font-medium\">{addon.name}</h4>\r\r\n                    <p className=\"text-muted-foreground line-clamp-2 text-sm\">\r\r\n                      {addon.description}\r\r\n                    </p>\r\r\n                  </div>\r\r\n\r\r\n                  <div className=\"flex flex-col items-end gap-2\">\r\r\n                    <span className=\"font-medium\">\r\r\n                      ${addon.price.toFixed(2)}\r\r\n                    </span>\r\r\n                    <Switch\r\r\n                      checked={selectedAddOns[addon.id] || false}\r\r\n                      onCheckedChange={() => handleToggleAddOn(addon.id)}\r\r\n                      aria-label={`Add ${addon.name} to bundle`}\r\r\n                    />\r\r\n                  </div>\r\r\n                </div>\r\r\n              </CardContent>\r\r\n            </Card>\r\r\n          ))}\r\r\n        </div>\r\r\n      </div>\r\r\n\r\r\n      {/* Summary and CTA */}\r\r\n      <Card className=\"sticky bottom-0 border-t shadow-lg\">\r\r\n        <CardContent className=\"p-4\">\r\r\n          <div className=\"flex flex-col items-center justify-between gap-4 md:flex-row\">\r\r\n            <div>\r\r\n              <p className=\"text-muted-foreground text-sm\">Bundle Total</p>\r\r\n              <p className=\"text-2xl font-bold\">\r\r\n                ${calculateTotal().toFixed(2)}\r\r\n              </p>\r\r\n            </div>\r\r\n\r\r\n            <div className=\"w-full md:w-auto\">\r\r\n              <Button size=\"lg\" className=\"w-full md:w-auto\">\r\r\n                <ShoppingCart className=\"mr-2 h-4 w-4\" />\r\r\n                Add Bundle to Cart\r\r\n              </Button>\r\r\n            </div>\r\r\n          </div>\r\r\n        </CardContent>\r\r\n      </Card>\r\r\n    </div>\r\r\n  );\r\r\n}\r\r\n",
      "type": "registry:block"
    }
  ],
  "meta": {
    "tags": [
      "ecommerce-bundle-upsells"
    ]
  }
}