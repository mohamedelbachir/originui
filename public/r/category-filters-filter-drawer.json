{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "category-filters-filter-drawer",
  "type": "registry:block",
  "registryDependencies": [
    "https://ui.woilasoft.com/r/accordion.json",
    "https://ui.woilasoft.com/r/badge.json",
    "https://ui.woilasoft.com/r/button.json",
    "https://ui.woilasoft.com/r/checkbox.json",
    "https://ui.woilasoft.com/r/drawer.json",
    "https://ui.woilasoft.com/r/scroll-area.json",
    "https://ui.woilasoft.com/r/separator.json",
    "https://ui.woilasoft.com/r/slider.json"
  ],
  "files": [
    {
      "path": "registry/default/blocks/category-filters-filter-drawer.tsx",
      "content": "\"use client\";\r\r\n\r\r\nimport { useState } from \"react\";\r\r\nimport { Check, Filter, X } from \"lucide-react\";\r\r\nimport { cn } from \"@/lib/utils\";\r\r\nimport { Button } from \"@/registry/default/ui/button\";\r\r\nimport { Badge } from \"@/registry/default/ui/badge\";\r\r\nimport { Checkbox } from \"@/registry/default/ui/checkbox\";\r\r\nimport { Slider } from \"@/registry/default/ui/slider\";\r\r\nimport { Separator } from \"@/registry/default/ui/separator\";\r\r\nimport { ScrollArea } from \"@/registry/default/ui/scroll-area\";\r\r\nimport {\r\r\n  Drawer,\r\r\n  DrawerClose,\r\r\n  DrawerContent,\r\r\n  DrawerDescription,\r\r\n  DrawerFooter,\r\r\n  DrawerHeader,\r\r\n  DrawerTitle,\r\r\n  DrawerTrigger,\r\r\n} from \"@/registry/default/ui/drawer\";\r\r\nimport {\r\r\n  Accordion,\r\r\n  AccordionContent,\r\r\n  AccordionItem,\r\r\n  AccordionTrigger,\r\r\n} from \"@/registry/default/ui/accordion\";\r\r\n\r\r\ninterface FilterDrawerProps {\r\r\n  className?: string;\r\r\n  onFilterChange?: (filters: FilterState) => void;\r\r\n}\r\r\n\r\r\ninterface FilterState {\r\r\n  categories: string[];\r\r\n  priceRange: [number, number];\r\r\n  brands: string[];\r\r\n  colors: string[];\r\r\n  sizes: string[];\r\r\n  ratings: number[];\r\r\n}\r\r\n\r\r\nexport default function FilterDrawer({\r\r\n  className,\r\r\n  onFilterChange,\r\r\n}: FilterDrawerProps) {\r\r\n  const [filters, setFilters] = useState<FilterState>({\r\r\n    categories: [],\r\r\n    priceRange: [0, 500],\r\r\n    brands: [],\r\r\n    colors: [],\r\r\n    sizes: [],\r\r\n    ratings: [],\r\r\n  });\r\r\n\r\r\n  const [activeFiltersCount, setActiveFiltersCount] = useState(0);\r\r\n  const [open, setOpen] = useState(false);\r\r\n\r\r\n  const updateFilters = (newFilters: Partial<FilterState>) => {\r\r\n    const updated = { ...filters, ...newFilters };\r\r\n    setFilters(updated);\r\r\n\r\r\n    // Count active filters\r\r\n    let count = 0;\r\r\n    if (updated.categories.length) count += updated.categories.length;\r\r\n    if (updated.brands.length) count += updated.brands.length;\r\r\n    if (updated.colors.length) count += updated.colors.length;\r\r\n    if (updated.sizes.length) count += updated.sizes.length;\r\r\n    if (updated.ratings.length) count += updated.ratings.length;\r\r\n    if (updated.priceRange[0] > 0 || updated.priceRange[1] < 500) count += 1;\r\r\n\r\r\n    setActiveFiltersCount(count);\r\r\n    onFilterChange?.(updated);\r\r\n  };\r\r\n\r\r\n  const toggleFilter = (type: keyof FilterState, value: string | number) => {\r\r\n    const currentValues = filters[type] as (string | number)[];\r\r\n    const newValues = currentValues.includes(value)\r\r\n      ? currentValues.filter((v) => v !== value)\r\r\n      : [...currentValues, value];\r\r\n\r\r\n    updateFilters({ [type]: newValues } as Partial<FilterState>);\r\r\n  };\r\r\n\r\r\n  const clearFilters = () => {\r\r\n    setFilters({\r\r\n      categories: [],\r\r\n      priceRange: [0, 500],\r\r\n      brands: [],\r\r\n      colors: [],\r\r\n      sizes: [],\r\r\n      ratings: [],\r\r\n    });\r\r\n    setActiveFiltersCount(0);\r\r\n    onFilterChange?.({\r\r\n      categories: [],\r\r\n      priceRange: [0, 500],\r\r\n      brands: [],\r\r\n      colors: [],\r\r\n      sizes: [],\r\r\n      ratings: [],\r\r\n    });\r\r\n  };\r\r\n\r\r\n  const categories = [\r\r\n    \"Clothing\",\r\r\n    \"Shoes\",\r\r\n    \"Accessories\",\r\r\n    \"Sportswear\",\r\r\n    \"Outerwear\",\r\r\n    \"Formal Wear\",\r\r\n    \"Casual Wear\",\r\r\n  ];\r\r\n\r\r\n  const brands = [\r\r\n    \"Nike\",\r\r\n    \"Adidas\",\r\r\n    \"Puma\",\r\r\n    \"Under Armour\",\r\r\n    \"New Balance\",\r\r\n    \"Levi&apos;s\",\r\r\n    \"H&M\",\r\r\n    \"Zara\",\r\r\n  ];\r\r\n\r\r\n  const colors = [\r\r\n    { name: \"Black\", value: \"#000000\" },\r\r\n    { name: \"White\", value: \"#FFFFFF\" },\r\r\n    { name: \"Red\", value: \"#FF0000\" },\r\r\n    { name: \"Blue\", value: \"#0000FF\" },\r\r\n    { name: \"Green\", value: \"#00FF00\" },\r\r\n    { name: \"Yellow\", value: \"#FFFF00\" },\r\r\n    { name: \"Purple\", value: \"#800080\" },\r\r\n    { name: \"Orange\", value: \"#FFA500\" },\r\r\n  ];\r\r\n\r\r\n  const sizes = [\"XS\", \"S\", \"M\", \"L\", \"XL\", \"XXL\"];\r\r\n\r\r\n  const ratings = [4, 3, 2, 1];\r\r\n\r\r\n  const ActiveFilterBadges = () => {\r\r\n    const activeFilters = [\r\r\n      ...filters.categories.map((cat) => ({ type: \"categories\", value: cat })),\r\r\n      ...filters.brands.map((brand) => ({ type: \"brands\", value: brand })),\r\r\n      ...filters.colors.map((color) => ({ type: \"colors\", value: color })),\r\r\n      ...filters.sizes.map((size) => ({ type: \"sizes\", value: size })),\r\r\n      ...filters.ratings.map((rating) => ({\r\r\n        type: \"ratings\",\r\r\n        value: `${rating} Stars & Up`,\r\r\n      })),\r\r\n      ...(filters.priceRange[0] > 0 || filters.priceRange[1] < 500\r\r\n        ? [\r\r\n            {\r\r\n              type: \"price\",\r\r\n              value: `$${filters.priceRange[0]} - $${filters.priceRange[1]}`,\r\r\n            },\r\r\n          ]\r\r\n        : []),\r\r\n    ];\r\r\n\r\r\n    if (activeFilters.length === 0) return null;\r\r\n\r\r\n    return (\r\r\n      <div className=\"flex flex-wrap gap-2 mt-3\">\r\r\n        {activeFilters.map((filter, index) => (\r\r\n          <Badge\r\r\n            key={`${filter.type}-${filter.value}-${index}`}\r\r\n            variant=\"outline\"\r\r\n            className=\"flex items-center gap-1 px-2 py-1\"\r\r\n          >\r\r\n            {filter.value}\r\r\n            <Button\r\r\n              variant=\"ghost\"\r\r\n              size=\"icon\"\r\r\n              className=\"h-4 w-4 p-0 ml-1\"\r\r\n              onClick={() =>\r\r\n                toggleFilter(filter.type as keyof FilterState, filter.value)\r\r\n              }\r\r\n            >\r\r\n              <X className=\"h-3 w-3\" />\r\r\n            </Button>\r\r\n          </Badge>\r\r\n        ))}\r\r\n        {activeFilters.length > 0 && (\r\r\n          <Button\r\r\n            variant=\"ghost\"\r\r\n            size=\"sm\"\r\r\n            className=\"h-6 text-xs\"\r\r\n            onClick={clearFilters}\r\r\n          >\r\r\n            Clear all\r\r\n          </Button>\r\r\n        )}\r\r\n      </div>\r\r\n    );\r\r\n  };\r\r\n\r\r\n  return (\r\r\n    <>\r\r\n      {/* Height is set to 800px for demo purposes */}\r\r\n      <div className={cn(\"w-full p-6 h-[800px]\", className)}>\r\r\n        <div className=\"flex items-center justify-between mb-4\">\r\r\n          <Drawer open={open} onOpenChange={setOpen}>\r\r\n            <DrawerTrigger asChild>\r\r\n              <Button\r\r\n                variant=\"outline\"\r\r\n                size=\"sm\"\r\r\n                className=\"flex items-center gap-2\"\r\r\n              >\r\r\n                <Filter className=\"h-4 w-4\" />\r\r\n                Filters\r\r\n                {activeFiltersCount > 0 && (\r\r\n                  <Badge variant=\"secondary\" className=\"ml-1\">\r\r\n                    {activeFiltersCount}\r\r\n                  </Badge>\r\r\n                )}\r\r\n              </Button>\r\r\n            </DrawerTrigger>\r\r\n            <DrawerContent>\r\r\n              <DrawerHeader className=\"border-b pb-4\">\r\r\n                <DrawerTitle>Filters</DrawerTitle>\r\r\n                <DrawerDescription>\r\r\n                  Refine your product search with filters\r\r\n                </DrawerDescription>\r\r\n              </DrawerHeader>\r\r\n              <ScrollArea className=\"h-[60vh] px-4 py-2\">\r\r\n                <Accordion type=\"multiple\" className=\"w-full\">\r\r\n                  <AccordionItem value=\"categories\">\r\r\n                    <AccordionTrigger className=\"py-3\">\r\r\n                      Categories\r\r\n                    </AccordionTrigger>\r\r\n                    <AccordionContent>\r\r\n                      <div className=\"space-y-2\">\r\r\n                        {categories.map((category) => (\r\r\n                          <div\r\r\n                            key={category}\r\r\n                            className=\"flex items-center space-x-2\"\r\r\n                          >\r\r\n                            <Checkbox\r\r\n                              id={`category-${category}`}\r\r\n                              checked={filters.categories.includes(category)}\r\r\n                              onCheckedChange={() =>\r\r\n                                toggleFilter(\"categories\", category)\r\r\n                              }\r\r\n                            />\r\r\n                            <label\r\r\n                              htmlFor={`category-${category}`}\r\r\n                              className=\"text-sm leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\r\r\n                            >\r\r\n                              {category}\r\r\n                            </label>\r\r\n                          </div>\r\r\n                        ))}\r\r\n                      </div>\r\r\n                    </AccordionContent>\r\r\n                  </AccordionItem>\r\r\n\r\r\n                  <AccordionItem value=\"price\">\r\r\n                    <AccordionTrigger className=\"py-3\">\r\r\n                      Price Range\r\r\n                    </AccordionTrigger>\r\r\n                    <AccordionContent>\r\r\n                      <div className=\"space-y-4 px-1 pt-4\">\r\r\n                        <Slider\r\r\n                          value={filters.priceRange}\r\r\n                          min={0}\r\r\n                          max={500}\r\r\n                          step={10}\r\r\n                          onValueChange={(value) =>\r\r\n                            updateFilters({\r\r\n                              priceRange: value as [number, number],\r\r\n                            })\r\r\n                          }\r\r\n                        />\r\r\n                        <div className=\"flex items-center justify-between\">\r\r\n                          <span className=\"text-sm text-muted-foreground\">\r\r\n                            ${filters.priceRange[0]}\r\r\n                          </span>\r\r\n                          <span className=\"text-sm text-muted-foreground\">\r\r\n                            ${filters.priceRange[1]}\r\r\n                          </span>\r\r\n                        </div>\r\r\n                      </div>\r\r\n                    </AccordionContent>\r\r\n                  </AccordionItem>\r\r\n\r\r\n                  <AccordionItem value=\"brands\">\r\r\n                    <AccordionTrigger className=\"py-3\">Brands</AccordionTrigger>\r\r\n                    <AccordionContent>\r\r\n                      <div className=\"space-y-2\">\r\r\n                        {brands.map((brand) => (\r\r\n                          <div\r\r\n                            key={brand}\r\r\n                            className=\"flex items-center space-x-2\"\r\r\n                          >\r\r\n                            <Checkbox\r\r\n                              id={`brand-${brand}`}\r\r\n                              checked={filters.brands.includes(brand)}\r\r\n                              onCheckedChange={() =>\r\r\n                                toggleFilter(\"brands\", brand)\r\r\n                              }\r\r\n                            />\r\r\n                            <label\r\r\n                              htmlFor={`brand-${brand}`}\r\r\n                              className=\"text-sm leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\r\r\n                            >\r\r\n                              {brand}\r\r\n                            </label>\r\r\n                          </div>\r\r\n                        ))}\r\r\n                      </div>\r\r\n                    </AccordionContent>\r\r\n                  </AccordionItem>\r\r\n\r\r\n                  <AccordionItem value=\"colors\">\r\r\n                    <AccordionTrigger className=\"py-3\">Colors</AccordionTrigger>\r\r\n                    <AccordionContent>\r\r\n                      <div className=\"grid grid-cols-4 gap-3\">\r\r\n                        {colors.map((color) => (\r\r\n                          <div\r\r\n                            key={color.name}\r\r\n                            className=\"flex flex-col items-center gap-1\"\r\r\n                          >\r\r\n                            <button\r\r\n                              className={cn(\r\r\n                                \"h-8 w-8 rounded-full border border-input flex items-center justify-center\",\r\r\n                                filters.colors.includes(color.name) &&\r\r\n                                  \"ring-2 ring-primary\"\r\r\n                              )}\r\r\n                              style={{ backgroundColor: color.value }}\r\r\n                              onClick={() => toggleFilter(\"colors\", color.name)}\r\r\n                            >\r\r\n                              {filters.colors.includes(color.name) && (\r\r\n                                <Check\r\r\n                                  className={cn(\r\r\n                                    \"h-4 w-4\",\r\r\n                                    [\"White\", \"Yellow\"].includes(color.name)\r\r\n                                      ? \"text-black\"\r\r\n                                      : \"text-white\"\r\r\n                                  )}\r\r\n                                />\r\r\n                              )}\r\r\n                            </button>\r\r\n                            <span className=\"text-xs\">{color.name}</span>\r\r\n                          </div>\r\r\n                        ))}\r\r\n                      </div>\r\r\n                    </AccordionContent>\r\r\n                  </AccordionItem>\r\r\n\r\r\n                  <AccordionItem value=\"sizes\">\r\r\n                    <AccordionTrigger className=\"py-3\">Sizes</AccordionTrigger>\r\r\n                    <AccordionContent>\r\r\n                      <div className=\"grid grid-cols-3 gap-2\">\r\r\n                        {sizes.map((size) => (\r\r\n                          <Button\r\r\n                            key={size}\r\r\n                            variant={\r\r\n                              filters.sizes.includes(size)\r\r\n                                ? \"default\"\r\r\n                                : \"outline\"\r\r\n                            }\r\r\n                            size=\"sm\"\r\r\n                            onClick={() => toggleFilter(\"sizes\", size)}\r\r\n                            className=\"h-8\"\r\r\n                          >\r\r\n                            {size}\r\r\n                          </Button>\r\r\n                        ))}\r\r\n                      </div>\r\r\n                    </AccordionContent>\r\r\n                  </AccordionItem>\r\r\n\r\r\n                  <AccordionItem value=\"ratings\" className=\"border-b-0\">\r\r\n                    <AccordionTrigger className=\"py-3\">Rating</AccordionTrigger>\r\r\n                    <AccordionContent>\r\r\n                      <div className=\"space-y-2\">\r\r\n                        {ratings.map((rating) => (\r\r\n                          <div\r\r\n                            key={rating}\r\r\n                            className=\"flex items-center space-x-2\"\r\r\n                          >\r\r\n                            <Checkbox\r\r\n                              id={`rating-${rating}`}\r\r\n                              checked={filters.ratings.includes(rating)}\r\r\n                              onCheckedChange={() =>\r\r\n                                toggleFilter(\"ratings\", rating)\r\r\n                              }\r\r\n                            />\r\r\n                            <label\r\r\n                              htmlFor={`rating-${rating}`}\r\r\n                              className=\"text-sm leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 flex items-center\"\r\r\n                            >\r\r\n                              {Array.from({ length: rating }).map((_, i) => (\r\r\n                                <svg\r\r\n                                  key={i}\r\r\n                                  className=\"w-4 h-4 text-yellow-400 fill-current\"\r\r\n                                  viewBox=\"0 0 24 24\"\r\r\n                                >\r\r\n                                  <path d=\"M12 17.27L18.18 21L16.54 13.97L22 9.24L14.81 8.63L12 2L9.19 8.63L2 9.24L7.46 13.97L5.82 21L12 17.27Z\" />\r\r\n                                </svg>\r\r\n                              ))}\r\r\n                              <span className=\"ml-1\">& Up</span>\r\r\n                            </label>\r\r\n                          </div>\r\r\n                        ))}\r\r\n                      </div>\r\r\n                    </AccordionContent>\r\r\n                  </AccordionItem>\r\r\n                </Accordion>\r\r\n              </ScrollArea>\r\r\n              <DrawerFooter className=\"border-t pt-4\">\r\r\n                <div className=\"flex items-center justify-between w-full\">\r\r\n                  <Button variant=\"outline\" onClick={clearFilters}>\r\r\n                    Clear all\r\r\n                  </Button>\r\r\n                  <DrawerClose asChild>\r\r\n                    <Button>Apply filters</Button>\r\r\n                  </DrawerClose>\r\r\n                </div>\r\r\n              </DrawerFooter>\r\r\n            </DrawerContent>\r\r\n          </Drawer>\r\r\n\r\r\n          {activeFiltersCount > 0 && (\r\r\n            <Button\r\r\n              variant=\"ghost\"\r\r\n              size=\"sm\"\r\r\n              onClick={clearFilters}\r\r\n              className=\"hidden sm:flex\"\r\r\n            >\r\r\n              Clear all\r\r\n            </Button>\r\r\n          )}\r\r\n        </div>\r\r\n\r\r\n        {/* Active Filter Badges */}\r\r\n        <ActiveFilterBadges />\r\r\n\r\r\n        <Separator className=\"my-4\" />\r\r\n      </div>\r\r\n    </>\r\r\n  );\r\r\n}\r\r\n",
      "type": "registry:block"
    }
  ],
  "meta": {
    "tags": [
      "category-filters"
    ]
  }
}