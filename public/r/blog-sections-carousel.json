{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "blog-sections-carousel",
  "type": "registry:block",
  "registryDependencies": [
    "https://ui.woilasoft.com/r/badge.json",
    "https://ui.woilasoft.com/r/button.json",
    "https://ui.woilasoft.com/r/card.json"
  ],
  "files": [
    {
      "path": "registry/default/blocks/blog-sections-carousel.tsx",
      "content": "\"use client\";\r\r\n\r\r\nimport { useState, useRef, useEffect, TouchEvent } from \"react\";\r\r\nimport Image from \"next/image\";\r\r\nimport Link from \"next/link\";\r\r\nimport { Button } from \"@/registry/default/ui/button\";\r\r\nimport { Card, CardContent, CardFooter } from \"@/registry/default/ui/card\";\r\r\nimport { Badge } from \"@/registry/default/ui/badge\";\r\r\nimport {\r\r\n  CalendarIcon,\r\r\n  ChevronLeftIcon,\r\r\n  ChevronRightIcon,\r\r\n  ArrowRightIcon,\r\r\n} from \"lucide-react\";\r\r\n\r\r\ninterface BlogPost {\r\r\n  id: number;\r\r\n  title: string;\r\r\n  category: string;\r\r\n  date: string;\r\r\n  imageUrl: string;\r\r\n  excerpt: string;\r\r\n}\r\r\n\r\r\nconst blogPosts: BlogPost[] = [\r\r\n  {\r\r\n    id: 1,\r\r\n    title: \"How Marketing Analytics is Reshaping Business Strategies\",\r\r\n    category: \"Analytics\",\r\r\n    date: \"April 18, 2023\",\r\r\n    imageUrl:\r\r\n      \"https://images.unsplash.com/photo-1460925895917-afdab827c52f?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80\",\r\r\n    excerpt:\r\r\n      \"Data-driven marketing is changing how companies make decisions. Learn how to leverage analytics for better results.\",\r\r\n  },\r\r\n  {\r\r\n    id: 2,\r\r\n    title: \"The Rise of Video Marketing: Why You Can't Ignore It\",\r\r\n    category: \"Video\",\r\r\n    date: \"April 12, 2023\",\r\r\n    imageUrl:\r\r\n      \"https://images.unsplash.com/photo-1626785774573-4b799315345d?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2071&q=80\",\r\r\n    excerpt:\r\r\n      \"Video content has become an essential part of modern marketing strategies. Find out why and how to get started.\",\r\r\n  },\r\r\n  {\r\r\n    id: 3,\r\r\n    title: \"Building Customer Loyalty Through Content Marketing\",\r\r\n    category: \"Content\",\r\r\n    date: \"April 5, 2023\",\r\r\n    imageUrl:\r\r\n      \"https://images.unsplash.com/photo-1552664730-d307ca884978?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80\",\r\r\n    excerpt:\r\r\n      \"Create content that not only attracts but retains customers. Strategies for building long-term relationships through your content.\",\r\r\n  },\r\r\n  {\r\r\n    id: 4,\r\r\n    title: \"Social Media Trends That Will Dominate in 2023\",\r\r\n    category: \"Social Media\",\r\r\n    date: \"March 29, 2023\",\r\r\n    imageUrl:\r\r\n      \"https://images.unsplash.com/photo-1611162617213-7d7a39e9b1d7?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2074&q=80\",\r\r\n    excerpt:\r\r\n      \"Stay ahead of the curve with these emerging social media trends that will shape the digital landscape this year.\",\r\r\n  },\r\r\n  {\r\r\n    id: 5,\r\r\n    title: \"Email Marketing Personalization: Going Beyond First Name\",\r\r\n    category: \"Email\",\r\r\n    date: \"March 22, 2023\",\r\r\n    imageUrl:\r\r\n      \"https://images.unsplash.com/photo-1596526131083-e8c633c948d2?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1074&q=80\",\r\r\n    excerpt:\r\r\n      \"Advanced techniques for personalizing your email campaigns that go well beyond simply using a subscriber's name.\",\r\r\n  },\r\r\n  {\r\r\n    id: 6,\r\r\n    title: \"Sustainable Marketing: Building Eco-Friendly Campaigns\",\r\r\n    category: \"Sustainability\",\r\r\n    date: \"March 15, 2023\",\r\r\n    imageUrl:\r\r\n      \"https://images.unsplash.com/photo-1542601906990-b4d3fb778b09?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80\",\r\r\n    excerpt:\r\r\n      \"How to integrate sustainability into your marketing strategy and connect with environmentally conscious consumers.\",\r\r\n  },\r\r\n];\r\r\n\r\r\nexport default function BlogSectionSlider() {\r\r\n  const [currentIndex, setCurrentIndex] = useState(0);\r\r\n  const [isSwiping, setIsSwiping] = useState(false);\r\r\n  const [startX, setStartX] = useState(0);\r\r\n  const [screenSize, setScreenSize] = useState({\r\r\n    isMobile: false,\r\r\n    isTablet: false,\r\r\n    isDesktop: false,\r\r\n  });\r\r\n\r\r\n  const sliderRef = useRef<HTMLDivElement>(null);\r\r\n  const containerRef = useRef<HTMLDivElement>(null);\r\r\n\r\r\n  // Calculate visible items based on screen size\r\r\n  const visibleItems = screenSize.isDesktop ? 3 : screenSize.isTablet ? 2 : 1;\r\r\n  const maxIndex = Math.max(0, blogPosts.length - visibleItems);\r\r\n\r\r\n  // Initialize and update screen size\r\r\n  useEffect(() => {\r\r\n    const updateScreenSize = () => {\r\r\n      if (typeof window !== \"undefined\") {\r\r\n        const width = window.innerWidth;\r\r\n        setScreenSize({\r\r\n          isMobile: width < 640,\r\r\n          isTablet: width >= 640 && width < 1024,\r\r\n          isDesktop: width >= 1024,\r\r\n        });\r\r\n      }\r\r\n    };\r\r\n\r\r\n    // Initial check\r\r\n    updateScreenSize();\r\r\n\r\r\n    // Listen for resize\r\r\n    window.addEventListener(\"resize\", updateScreenSize);\r\r\n\r\r\n    return () => window.removeEventListener(\"resize\", updateScreenSize);\r\r\n  }, []);\r\r\n\r\r\n  // Ensure current index is valid when screen size changes\r\r\n  useEffect(() => {\r\r\n    setCurrentIndex((prev) => Math.min(prev, maxIndex));\r\r\n  }, [screenSize, maxIndex]);\r\r\n\r\r\n  // Handle navigation\r\r\n  function handlePrevious() {\r\r\n    setCurrentIndex((prev) => Math.max(0, prev - 1));\r\r\n  }\r\r\n\r\r\n  function handleNext() {\r\r\n    setCurrentIndex((prev) => Math.min(maxIndex, prev + 1));\r\r\n  }\r\r\n\r\r\n  // Scroll to current index\r\r\n  useEffect(() => {\r\r\n    if (sliderRef.current) {\r\r\n      const scrollToIndex = () => {\r\r\n        if (sliderRef.current) {\r\r\n          const cardWidth =\r\r\n            sliderRef.current.querySelector(\".carousel-item\")?.clientWidth || 0;\r\r\n          const scrollLeft = cardWidth * currentIndex;\r\r\n\r\r\n          sliderRef.current.scrollTo({\r\r\n            left: scrollLeft,\r\r\n            behavior: \"smooth\",\r\r\n          });\r\r\n        }\r\r\n      };\r\r\n\r\r\n      // Small delay to ensure the DOM has updated\r\r\n      const timeoutId = setTimeout(scrollToIndex, 50);\r\r\n      return () => clearTimeout(timeoutId);\r\r\n    }\r\r\n  }, [currentIndex, screenSize]);\r\r\n\r\r\n  // Touch event handlers for swipe functionality\r\r\n  const handleTouchStart = (e: TouchEvent<HTMLDivElement>) => {\r\r\n    setIsSwiping(true);\r\r\n    setStartX(e.touches[0].clientX);\r\r\n  };\r\r\n\r\r\n  const handleTouchMove = (e: TouchEvent<HTMLDivElement>) => {\r\r\n    if (!isSwiping) return;\r\r\n\r\r\n    const currentX = e.touches[0].clientX;\r\r\n    const diff = startX - currentX;\r\r\n\r\r\n    // Prevent default to stop page scrolling during swipe\r\r\n    if (Math.abs(diff) > 5) {\r\r\n      e.preventDefault();\r\r\n    }\r\r\n  };\r\r\n\r\r\n  const handleTouchEnd = (e: TouchEvent<HTMLDivElement>) => {\r\r\n    if (!isSwiping) return;\r\r\n\r\r\n    const currentX = e.changedTouches[0].clientX;\r\r\n    const diff = startX - currentX;\r\r\n\r\r\n    // Determine if swipe is significant\r\r\n    if (Math.abs(diff) > 50) {\r\r\n      if (diff > 0 && currentIndex < maxIndex) {\r\r\n        handleNext();\r\r\n      } else if (diff < 0 && currentIndex > 0) {\r\r\n        handlePrevious();\r\r\n      }\r\r\n    }\r\r\n\r\r\n    setIsSwiping(false);\r\r\n  };\r\r\n\r\r\n  // Progress indicators\r\r\n  const renderProgressIndicators = () => {\r\r\n    return (\r\r\n      <div className=\"mt-6 flex justify-center space-x-2\">\r\r\n        {Array.from({ length: maxIndex + 1 }, (_, i) => (\r\r\n          <button\r\r\n            key={i}\r\r\n            onClick={() => setCurrentIndex(i)}\r\r\n            className={`h-2 rounded-full transition-all ${\r\r\n              i === currentIndex ? \"bg-primary w-6\" : \"bg-primary/30 w-2\"\r\r\n            }`}\r\r\n            aria-label={`Go to slide ${i + 1}`}\r\r\n          />\r\r\n        ))}\r\r\n      </div>\r\r\n    );\r\r\n  };\r\r\n\r\r\n  return (\r\r\n    <section className=\"py-12 md:py-20 lg:py-24\">\r\r\n      <div\r\r\n        ref={containerRef}\r\r\n        className=\"container mx-auto space-y-6 px-4 md:space-y-8 md:px-6 2xl:max-w-[1400px]\"\r\r\n      >\r\r\n        <div className=\"flex flex-wrap items-center justify-between gap-4\">\r\r\n          <div className=\"max-w-md space-y-1\">\r\r\n            <h2 className=\"text-2xl font-bold tracking-tight md:text-3xl\">\r\r\n              Latest Marketing Articles\r\r\n            </h2>\r\r\n            <p className=\"text-muted-foreground text-sm md:text-base\">\r\r\n              Stay updated with our most recent insights\r\r\n            </p>\r\r\n          </div>\r\r\n          <div className=\"flex hidden items-center space-x-2 sm:flex\">\r\r\n            <Button\r\r\n              variant=\"outline\"\r\r\n              size=\"icon\"\r\r\n              onClick={handlePrevious}\r\r\n              disabled={currentIndex === 0}\r\r\n              aria-label=\"Previous slide\"\r\r\n            >\r\r\n              <ChevronLeftIcon className=\"h-4 w-4\" />\r\r\n            </Button>\r\r\n            <Button\r\r\n              variant=\"outline\"\r\r\n              size=\"icon\"\r\r\n              onClick={handleNext}\r\r\n              disabled={currentIndex === maxIndex}\r\r\n              aria-label=\"Next slide\"\r\r\n            >\r\r\n              <ChevronRightIcon className=\"h-4 w-4\" />\r\r\n            </Button>\r\r\n          </div>\r\r\n        </div>\r\r\n\r\r\n        <div className=\"relative overflow-hidden\">\r\r\n          <div\r\r\n            ref={sliderRef}\r\r\n            className=\"scrollbar-hide -mx-4 flex touch-pan-x snap-x snap-mandatory overflow-x-auto px-4 pt-1 pb-2 md:pb-4\"\r\r\n            style={{ scrollbarWidth: \"none\", msOverflowStyle: \"none\" }}\r\r\n            onTouchStart={handleTouchStart}\r\r\n            onTouchMove={handleTouchMove}\r\r\n            onTouchEnd={handleTouchEnd}\r\r\n          >\r\r\n            {blogPosts.map((post) => (\r\r\n              <div\r\r\n                key={post.id}\r\r\n                className=\"carousel-item w-full flex-none snap-start px-2 sm:w-1/2 sm:px-4 lg:w-1/3\"\r\r\n              >\r\r\n                <Card className=\"flex h-full flex-col overflow-hidden p-0 shadow-sm transition-shadow hover:shadow-md\">\r\r\n                  <div className=\"relative h-40 overflow-hidden sm:h-48 md:h-52\">\r\r\n                    <Image\r\r\n                      src={post.imageUrl}\r\r\n                      alt={post.title}\r\r\n                      fill\r\r\n                      className=\"object-cover transition-transform duration-300 hover:scale-105\"\r\r\n                    />\r\r\n                    <div className=\"absolute top-3 left-3\">\r\r\n                      <Badge className=\"bg-primary hover:bg-primary/90\">\r\r\n                        {post.category}\r\r\n                      </Badge>\r\r\n                    </div>\r\r\n                  </div>\r\r\n                  <CardContent className=\"flex-grow\">\r\r\n                    <div className=\"text-muted-foreground mb-2 flex items-center text-xs sm:mb-3 sm:text-sm\">\r\r\n                      <CalendarIcon className=\"mr-1 h-3 w-3\" />\r\r\n                      <span>{post.date}</span>\r\r\n                    </div>\r\r\n                    <h3 className=\"mb-2 line-clamp-2 text-base font-semibold sm:text-lg\">\r\r\n                      {post.title}\r\r\n                    </h3>\r\r\n                    <p className=\"text-muted-foreground line-clamp-2 text-xs sm:line-clamp-3 sm:text-sm\">\r\r\n                      {post.excerpt}\r\r\n                    </p>\r\r\n                  </CardContent>\r\r\n                  <CardFooter className=\"pb-6\">\r\r\n                    <Button\r\r\n                      variant=\"ghost\"\r\r\n                      size=\"sm\"\r\r\n                      className=\"w-full text-sm\"\r\r\n                      asChild\r\r\n                    >\r\r\n                      <Link\r\r\n                        href=\"#\"\r\r\n                        className=\"flex items-center justify-center\"\r\r\n                      >\r\r\n                        Read Article\r\r\n                        <ArrowRightIcon className=\"ml-1 h-4 w-4\" />\r\r\n                      </Link>\r\r\n                    </Button>\r\r\n                  </CardFooter>\r\r\n                </Card>\r\r\n              </div>\r\r\n            ))}\r\r\n          </div>\r\r\n\r\r\n          {/* Progress indicators for mobile */}\r\r\n          <div className=\"sm:hidden\">{renderProgressIndicators()}</div>\r\r\n\r\r\n          {/* Mobile navigation buttons - only shown on very small screens */}\r\r\n          <div className=\"mt-6 flex items-center justify-between sm:hidden\">\r\r\n            <Button\r\r\n              variant=\"outline\"\r\r\n              size=\"sm\"\r\r\n              onClick={handlePrevious}\r\r\n              disabled={currentIndex === 0}\r\r\n              className=\"mr-2 h-9 flex-1 text-xs\"\r\r\n            >\r\r\n              <ChevronLeftIcon className=\"mr-1 h-4 w-4\" />\r\r\n              Prev\r\r\n            </Button>\r\r\n            <Button\r\r\n              variant=\"outline\"\r\r\n              size=\"sm\"\r\r\n              onClick={handleNext}\r\r\n              disabled={currentIndex === maxIndex}\r\r\n              className=\"ml-2 h-9 flex-1 text-xs\"\r\r\n            >\r\r\n              Next\r\r\n              <ChevronRightIcon className=\"ml-1 h-4 w-4\" />\r\r\n            </Button>\r\r\n          </div>\r\r\n        </div>\r\r\n\r\r\n        <div className=\"mt-2 flex justify-center sm:mt-8\">\r\r\n          <Button variant=\"outline\" className=\"w-full max-w-sm\" asChild>\r\r\n            <Link href=\"#\">Browse All Articles</Link>\r\r\n          </Button>\r\r\n        </div>\r\r\n      </div>\r\r\n    </section>\r\r\n  );\r\r\n}\r\r\n",
      "type": "registry:block"
    }
  ],
  "meta": {
    "tags": [
      "blog-sections"
    ]
  }
}