{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "feature-sections-feature-chat",
  "type": "registry:block",
  "registryDependencies": [
    "https://ui.woilasoft.com/r/avatar.json",
    "https://ui.woilasoft.com/r/badge.json",
    "https://ui.woilasoft.com/r/button.json",
    "https://ui.woilasoft.com/r/input.json"
  ],
  "files": [
    {
      "path": "registry/default/blocks/feature-sections-feature-chat.tsx",
      "content": "\"use client\";\r\r\n\r\r\nimport { useState, useRef } from \"react\";\r\r\nimport { Button } from \"@/registry/default/ui/button\";\r\r\nimport { Input } from \"@/registry/default/ui/input\";\r\r\nimport { Badge } from \"@/registry/default/ui/badge\";\r\r\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/registry/default/ui/avatar\";\r\r\nimport {\r\r\n  ArrowRight,\r\r\n  Code2,\r\r\n  Command,\r\r\n  LucideIcon,\r\r\n  MessageSquare,\r\r\n  Paperclip,\r\r\n  Search,\r\r\n  Send,\r\r\n  Shield,\r\r\n  Sparkles,\r\r\n  ThumbsUp,\r\r\n  Zap,\r\r\n} from \"lucide-react\";\r\r\nimport Link from \"next/link\";\r\r\nimport { cn } from \"@/lib/utils\";\r\r\n\r\r\ninterface Message {\r\r\n  id: string;\r\r\n  content: string;\r\r\n  sender: \"user\" | \"assistant\";\r\r\n  feature?: string;\r\r\n  timestamp: Date;\r\r\n  isTyping?: boolean;\r\r\n}\r\r\n\r\r\ninterface Feature {\r\r\n  id: string;\r\r\n  name: string;\r\r\n  description: string;\r\r\n  icon: LucideIcon;\r\r\n  color: string;\r\r\n  triggerWords: string[];\r\r\n}\r\r\n\r\r\nconst features: Feature[] = [\r\r\n  {\r\r\n    id: \"performance\",\r\r\n    name: \"Lightning Performance\",\r\r\n    description:\r\r\n      \"Our platform delivers exceptional performance with optimized algorithms and efficient resource management.\",\r\r\n    icon: Zap,\r\r\n    color: \"text-amber-500\",\r\r\n    triggerWords: [\"fast\", \"performance\", \"speed\", \"quick\", \"efficient\"],\r\r\n  },\r\r\n  {\r\r\n    id: \"ai\",\r\r\n    name: \"AI-Powered Tools\",\r\r\n    description:\r\r\n      \"Leverage artificial intelligence to automate tasks, gain insights, and enhance productivity.\",\r\r\n    icon: Sparkles,\r\r\n    color: \"text-purple-500\",\r\r\n    triggerWords: [\"ai\", \"intelligence\", \"smart\", \"automation\", \"learn\"],\r\r\n  },\r\r\n  {\r\r\n    id: \"security\",\r\r\n    name: \"Enterprise Security\",\r\r\n    description:\r\r\n      \"End-to-end encryption and advanced security protocols keep your data safe.\",\r\r\n    icon: Shield,\r\r\n    color: \"text-blue-500\",\r\r\n    triggerWords: [\"secure\", \"security\", \"protection\", \"safe\", \"encrypt\"],\r\r\n  },\r\r\n  {\r\r\n    id: \"api\",\r\r\n    name: \"Developer API\",\r\r\n    description:\r\r\n      \"Integrate with your existing tools and workflows using our comprehensive API.\",\r\r\n    icon: Code2,\r\r\n    color: \"text-emerald-500\",\r\r\n    triggerWords: [\"api\", \"integration\", \"code\", \"developer\", \"connect\"],\r\r\n  },\r\r\n  {\r\r\n    id: \"cli\",\r\r\n    name: \"Command Line Interface\",\r\r\n    description:\r\r\n      \"Powerful CLI tools for developers who prefer terminal-based workflows.\",\r\r\n    icon: Command,\r\r\n    color: \"text-gray-500\",\r\r\n    triggerWords: [\"cli\", \"command\", \"terminal\", \"console\", \"shell\"],\r\r\n  },\r\r\n];\r\r\n\r\r\nconst initialMessages: Message[] = [\r\r\n  {\r\r\n    id: \"1\",\r\r\n    content:\r\r\n      \"Hello! I'm your product assistant. I can help you discover our key features. What would you like to know about?\",\r\r\n    sender: \"assistant\",\r\r\n    timestamp: new Date(),\r\r\n  },\r\r\n];\r\r\n\r\r\nconst suggestedQuestions = [\r\r\n  \"How fast is your platform?\",\r\r\n  \"Tell me about your security features\",\r\r\n  \"Do you have AI capabilities?\",\r\r\n  \"Is there an API for developers?\",\r\r\n  \"Can I use the CLI to manage tasks?\",\r\r\n];\r\r\n\r\r\nexport default function FeatureChat() {\r\r\n  const [messages, setMessages] = useState<Message[]>(initialMessages);\r\r\n  const [inputValue, setInputValue] = useState(\"\");\r\r\n  const [isAssistantTyping, setIsAssistantTyping] = useState(false);\r\r\n  const messagesEndRef = useRef<HTMLDivElement>(null);\r\r\n\r\r\n  const findRelevantFeature = (text: string): Feature | undefined => {\r\r\n    const lowerText = text.toLowerCase();\r\r\n    return features.find((feature) =>\r\r\n      feature.triggerWords.some((word) => lowerText.includes(word)),\r\r\n    );\r\r\n  };\r\r\n\r\r\n  const handleSendMessage = () => {\r\r\n    if (!inputValue.trim()) return;\r\r\n\r\r\n    // Add user message\r\r\n    const userMessage: Message = {\r\r\n      id: `user-${Date.now()}`,\r\r\n      content: inputValue,\r\r\n      sender: \"user\",\r\r\n      timestamp: new Date(),\r\r\n    };\r\r\n\r\r\n    setMessages((prev) => [...prev, userMessage]);\r\r\n    setInputValue(\"\");\r\r\n    setIsAssistantTyping(true);\r\r\n\r\r\n    // Determine which feature the user is asking about\r\r\n    const relevantFeature = findRelevantFeature(inputValue);\r\r\n\r\r\n    // Simulate assistant typing delay\r\r\n    setTimeout(() => {\r\r\n      let assistantResponse: Message;\r\r\n\r\r\n      if (relevantFeature) {\r\r\n        assistantResponse = {\r\r\n          id: `assistant-${Date.now()}`,\r\r\n          content: `${relevantFeature.description} Would you like to learn more about ${relevantFeature.name}?`,\r\r\n          sender: \"assistant\",\r\r\n          feature: relevantFeature.id,\r\r\n          timestamp: new Date(),\r\r\n        };\r\r\n      } else {\r\r\n        assistantResponse = {\r\r\n          id: `assistant-${Date.now()}`,\r\r\n          content:\r\r\n            \"I'm not sure I understand. Could you tell me which specific feature you're interested in? We have performance optimizations, AI capabilities, security features, developer APIs, and CLI tools.\",\r\r\n          sender: \"assistant\",\r\r\n          timestamp: new Date(),\r\r\n        };\r\r\n      }\r\r\n\r\r\n      setMessages((prev) => [...prev, assistantResponse]);\r\r\n      setIsAssistantTyping(false);\r\r\n    }, 1500);\r\r\n  };\r\r\n\r\r\n  const handleSuggestedQuestion = (question: string) => {\r\r\n    setInputValue(question);\r\r\n    // Optional: Automatically send the message\r\r\n    // setTimeout(handleSendMessage, 100);\r\r\n  };\r\r\n\r\r\n  return (\r\r\n    <section className=\"container mx-auto space-y-12 px-4 py-24 md:px-6 2xl:max-w-[1400px]\">\r\r\n      <div className=\"space-y-4 text-center\">\r\r\n        <h2 className=\"text-3xl font-bold tracking-tighter sm:text-4xl md:text-5xl\">\r\r\n          Chat with our product assistant\r\r\n        </h2>\r\r\n        <p className=\"text-muted-foreground mx-auto max-w-[700px] md:text-xl/relaxed lg:text-base/relaxed xl:text-xl/relaxed\">\r\r\n          Discover our powerful features through an interactive conversation\r\r\n        </p>\r\r\n      </div>\r\r\n\r\r\n      <div className=\"grid grid-cols-1 gap-8 lg:grid-cols-3 lg:gap-12\">\r\r\n        <div className=\"space-y-6 lg:col-span-1\">\r\r\n          <div className=\"space-y-4\">\r\r\n            <h3 className=\"text-lg font-medium\">Key features</h3>\r\r\n\r\r\n            <div className=\"space-y-3\">\r\r\n              {features.map((feature) => (\r\r\n                <div\r\r\n                  key={feature.id}\r\r\n                  className=\"hover:border-primary hover:bg-primary/5 flex cursor-pointer items-start gap-3 rounded-lg border p-3 transition-all\"\r\r\n                  onClick={() =>\r\r\n                    handleSuggestedQuestion(\r\r\n                      `Tell me about your ${feature.name.toLowerCase()}`,\r\r\n                    )\r\r\n                  }\r\r\n                >\r\r\n                  <div className={cn(\"bg-muted rounded-md p-2\", feature.color)}>\r\r\n                    <feature.icon className=\"h-5 w-5\" />\r\r\n                  </div>\r\r\n                  <div>\r\r\n                    <h4 className=\"font-medium\">{feature.name}</h4>\r\r\n                    <p className=\"text-muted-foreground line-clamp-2 text-sm\">\r\r\n                      {feature.description}\r\r\n                    </p>\r\r\n                  </div>\r\r\n                </div>\r\r\n              ))}\r\r\n            </div>\r\r\n          </div>\r\r\n\r\r\n          <div className=\"space-y-4\">\r\r\n            <h3 className=\"text-lg font-medium\">Suggested questions</h3>\r\r\n            <div className=\"flex flex-wrap gap-2\">\r\r\n              {suggestedQuestions.map((question, index) => (\r\r\n                <Badge\r\r\n                  key={index}\r\r\n                  variant=\"outline\"\r\r\n                  className=\"hover:bg-primary/10 cursor-pointer py-1.5\"\r\r\n                  onClick={() => handleSuggestedQuestion(question)}\r\r\n                >\r\r\n                  <MessageSquare className=\"mr-1 h-3.5 w-3.5\" />\r\r\n                  {question}\r\r\n                </Badge>\r\r\n              ))}\r\r\n            </div>\r\r\n          </div>\r\r\n\r\r\n          <div className=\"hidden lg:block\">\r\r\n            <Link\r\r\n              href=\"#\"\r\r\n              className=\"text-muted-foreground hover:text-primary flex items-center gap-1 text-sm\"\r\r\n            >\r\r\n              <Search className=\"h-4 w-4\" />\r\r\n              Browse feature documentation\r\r\n            </Link>\r\r\n          </div>\r\r\n        </div>\r\r\n\r\r\n        <div className=\"flex h-[600px] flex-col rounded-xl border shadow-sm lg:col-span-2\">\r\r\n          {/* Chat header */}\r\r\n          <div className=\"flex items-center gap-3 border-b p-4\">\r\r\n            <Avatar className=\"h-10 w-10\">\r\r\n              <AvatarImage\r\r\n                src=\"/images/bot-avatar.png\"\r\r\n                alt=\"Product Assistant\"\r\r\n              />\r\r\n              <AvatarFallback className=\"bg-primary/10 text-primary\">\r\r\n                PA\r\r\n              </AvatarFallback>\r\r\n            </Avatar>\r\r\n            <div>\r\r\n              <h3 className=\"font-semibold\">Product Assistant</h3>\r\r\n              <p className=\"text-muted-foreground text-xs\">\r\r\n                Ask me about our features\r\r\n              </p>\r\r\n            </div>\r\r\n            <Badge variant=\"outline\" className=\"ml-auto\">\r\r\n              <span className=\"mr-1 h-2 w-2 rounded-full bg-green-500\"></span>\r\r\n              Online\r\r\n            </Badge>\r\r\n          </div>\r\r\n\r\r\n          {/* Chat messages */}\r\r\n          <div className=\"flex-grow space-y-4 overflow-y-auto p-4\">\r\r\n            {messages.map((message) => (\r\r\n              <div\r\r\n                key={message.id}\r\r\n                className={cn(\r\r\n                  \"flex\",\r\r\n                  message.sender === \"user\" ? \"justify-end\" : \"justify-start\",\r\r\n                )}\r\r\n              >\r\r\n                <div\r\r\n                  className={cn(\r\r\n                    \"max-w-[80%] rounded-lg p-3\",\r\r\n                    message.sender === \"user\"\r\r\n                      ? \"bg-primary text-primary-foreground rounded-br-none\"\r\r\n                      : \"bg-muted rounded-bl-none\",\r\r\n                  )}\r\r\n                >\r\r\n                  {message.feature ? (\r\r\n                    <div className=\"space-y-2\">\r\r\n                      <p>{message.content}</p>\r\r\n                      <div className=\"flex items-center gap-2 text-sm\">\r\r\n                        {(() => {\r\r\n                          const feature = features.find(\r\r\n                            (f) => f.id === message.feature,\r\r\n                          );\r\r\n                          if (!feature) return null;\r\r\n                          return (\r\r\n                            <>\r\r\n                              <feature.icon\r\r\n                                className={cn(\"h-4 w-4\", feature.color)}\r\r\n                              />\r\r\n                              <span className=\"font-medium\">\r\r\n                                {feature.name}\r\r\n                              </span>\r\r\n                            </>\r\r\n                          );\r\r\n                        })()}\r\r\n                      </div>\r\r\n                    </div>\r\r\n                  ) : (\r\r\n                    <p>{message.content}</p>\r\r\n                  )}\r\r\n                  <div\r\r\n                    className={cn(\r\r\n                      \"mt-1 flex items-center gap-2 text-xs\",\r\r\n                      message.sender === \"user\"\r\r\n                        ? \"text-primary-foreground/80\"\r\r\n                        : \"text-muted-foreground\",\r\r\n                    )}\r\r\n                  >\r\r\n                    {message.timestamp.toLocaleTimeString([], {\r\r\n                      hour: \"2-digit\",\r\r\n                      minute: \"2-digit\",\r\r\n                    })}\r\r\n                    {message.sender === \"user\" && (\r\r\n                      <ThumbsUp className=\"h-3 w-3\" />\r\r\n                    )}\r\r\n                  </div>\r\r\n                </div>\r\r\n              </div>\r\r\n            ))}\r\r\n\r\r\n            {isAssistantTyping && (\r\r\n              <div className=\"flex justify-start\">\r\r\n                <div className=\"bg-muted rounded-lg rounded-bl-none p-3\">\r\r\n                  <div className=\"flex space-x-2\">\r\r\n                    <div className=\"bg-muted-foreground/50 h-2 w-2 animate-bounce rounded-full\"></div>\r\r\n                    <div className=\"bg-muted-foreground/50 h-2 w-2 animate-bounce rounded-full delay-75\"></div>\r\r\n                    <div className=\"bg-muted-foreground/50 h-2 w-2 animate-bounce rounded-full delay-150\"></div>\r\r\n                  </div>\r\r\n                </div>\r\r\n              </div>\r\r\n            )}\r\r\n\r\r\n            <div ref={messagesEndRef} />\r\r\n          </div>\r\r\n\r\r\n          {/* Chat input */}\r\r\n          <div className=\"border-t p-4\">\r\r\n            <form\r\r\n              onSubmit={(e) => {\r\r\n                e.preventDefault();\r\r\n                handleSendMessage();\r\r\n              }}\r\r\n              className=\"flex items-center gap-2\"\r\r\n            >\r\r\n              <Button\r\r\n                type=\"button\"\r\r\n                size=\"icon\"\r\r\n                variant=\"ghost\"\r\r\n                className=\"rounded-full\"\r\r\n              >\r\r\n                <Paperclip className=\"text-muted-foreground h-5 w-5\" />\r\r\n              </Button>\r\r\n              <Input\r\r\n                value={inputValue}\r\r\n                onChange={(e) => setInputValue(e.target.value)}\r\r\n                placeholder=\"Ask about our features...\"\r\r\n                className=\"flex-grow\"\r\r\n              />\r\r\n              <Button\r\r\n                type=\"submit\"\r\r\n                size=\"icon\"\r\r\n                disabled={!inputValue.trim()}\r\r\n                className=\"rounded-full\"\r\r\n              >\r\r\n                <Send className=\"h-5 w-5\" />\r\r\n              </Button>\r\r\n            </form>\r\r\n          </div>\r\r\n        </div>\r\r\n      </div>\r\r\n\r\r\n      <div className=\"space-y-4 rounded-xl border p-8 text-center\">\r\r\n        <h3 className=\"text-xl font-bold\">\r\r\n          Ready to explore all our features?\r\r\n        </h3>\r\r\n        <p className=\"text-muted-foreground mx-auto max-w-[600px]\">\r\r\n          Get a personalized demo from our product experts and see how our\r\r\n          platform can help your business.\r\r\n        </p>\r\r\n        <Button asChild size=\"lg\" className=\"mt-2\">\r\r\n          <Link href=\"#\">\r\r\n            Schedule a demo <ArrowRight className=\"ml-2 h-4 w-4\" />\r\r\n          </Link>\r\r\n        </Button>\r\r\n      </div>\r\r\n    </section>\r\r\n  );\r\r\n}\r\r\n",
      "type": "registry:block"
    }
  ],
  "meta": {
    "tags": [
      "feature-sections"
    ]
  }
}