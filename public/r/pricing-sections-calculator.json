{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "pricing-sections-calculator",
  "type": "registry:block",
  "registryDependencies": [
    "https://ui.woilasoft.com/r/button.json",
    "https://ui.woilasoft.com/r/card.json",
    "https://ui.woilasoft.com/r/slider.json",
    "https://ui.woilasoft.com/r/tabs.json"
  ],
  "files": [
    {
      "path": "registry/default/blocks/pricing-sections-calculator.tsx",
      "content": "\"use client\";\r\r\n\r\r\nimport { useState } from \"react\";\r\r\nimport Link from \"next/link\";\r\r\nimport { Button } from \"@/registry/default/ui/button\";\r\r\nimport {\r\r\n  Card,\r\r\n  CardContent,\r\r\n  CardFooter,\r\r\n  CardHeader,\r\r\n  CardTitle,\r\r\n} from \"@/registry/default/ui/card\";\r\r\nimport { Slider } from \"@/registry/default/ui/slider\";\r\r\nimport { Tabs, TabsList, TabsTrigger } from \"@/registry/default/ui/tabs\";\r\r\nimport { CheckIcon } from \"lucide-react\";\r\r\nimport { cn } from \"@/lib/utils\";\r\r\n\r\r\n// Usage tiers\r\r\nconst usageTiers = [\r\r\n  { min: 0, max: 10000, rate: 0.01 },\r\r\n  { min: 10000, max: 100000, rate: 0.008 },\r\r\n  { min: 100000, max: 1000000, rate: 0.006 },\r\r\n  { min: 1000000, max: Infinity, rate: 0.004 },\r\r\n];\r\r\n\r\r\n// Plans\r\r\nconst plans = [\r\r\n  {\r\r\n    name: \"Starter\",\r\r\n    basePrice: 0,\r\r\n    features: [\r\r\n      \"Up to 10,000 API calls/month\",\r\r\n      \"Basic analytics\",\r\r\n      \"Community support\",\r\r\n      \"Standard rate limiting\",\r\r\n    ],\r\r\n  },\r\r\n  {\r\r\n    name: \"Growth\",\r\r\n    basePrice: 49,\r\r\n    features: [\r\r\n      \"Up to 100,000 API calls/month\",\r\r\n      \"Advanced analytics\",\r\r\n      \"Priority support\",\r\r\n      \"Higher rate limits\",\r\r\n      \"Team access\",\r\r\n      \"Custom domains\",\r\r\n    ],\r\r\n    popular: true,\r\r\n  },\r\r\n  {\r\r\n    name: \"Scale\",\r\r\n    basePrice: 199,\r\r\n    features: [\r\r\n      \"Up to 1,000,000 API calls/month\",\r\r\n      \"Enterprise analytics\",\r\r\n      \"24/7 support\",\r\r\n      \"Highest rate limits\",\r\r\n      \"Team access\",\r\r\n      \"Custom domains\",\r\r\n      \"SLA guarantee\",\r\r\n      \"Dedicated account manager\",\r\r\n    ],\r\r\n  },\r\r\n];\r\r\n\r\r\n// Calculate price based on usage\r\r\nfunction calculatePrice(basePrice: number, usage: number) {\r\r\n  let additionalCost = 0;\r\r\n  let remainingUsage = usage;\r\r\n\r\r\n  for (const tier of usageTiers) {\r\r\n    if (remainingUsage <= 0) break;\r\r\n\r\r\n    const usageInTier = Math.min(remainingUsage, tier.max - tier.min);\r\r\n    if (usageInTier > 0) {\r\r\n      additionalCost += usageInTier * tier.rate;\r\r\n      remainingUsage -= usageInTier;\r\r\n    }\r\r\n  }\r\r\n\r\r\n  return basePrice + additionalCost;\r\r\n}\r\r\n\r\r\n// Format number with commas\r\r\nfunction formatNumber(num: number) {\r\r\n  return num.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\r\n}\r\r\n\r\r\nexport default function PricingSectionCalculator() {\r\r\n  const [usage, setUsage] = useState(5000);\r\r\n  const [billingPeriod, setBillingPeriod] = useState<\"monthly\" | \"annually\">(\r\r\n    \"monthly\",\r\r\n  );\r\r\n\r\r\n  // Calculate annual discount\r\r\n  const annualDiscount = 0.2; // 20% discount\r\r\n  const annualMultiplier =\r\r\n    billingPeriod === \"annually\" ? 12 * (1 - annualDiscount) : 1;\r\r\n\r\r\n  return (\r\r\n    <section className=\"from-muted/50 to-background w-full bg-gradient-to-b py-12 md:py-24 lg:py-32\">\r\r\n      <div className=\"container mx-auto px-4 md:px-6 2xl:max-w-[1400px]\">\r\r\n        <div className=\"flex flex-col items-center justify-center space-y-4 text-center\">\r\r\n          <div className=\"space-y-2\">\r\r\n            <h2 className=\"text-3xl font-bold tracking-tighter sm:text-4xl md:text-5xl\">\r\r\n              Pay only for what you use\r\r\n            </h2>\r\r\n            <p className=\"text-muted-foreground mx-auto max-w-[700px] md:text-xl/relaxed\">\r\r\n              Transparent, usage-based pricing that scales with your business.\r\r\n            </p>\r\r\n          </div>\r\r\n        </div>\r\r\n\r\r\n        <div className=\"mx-auto mt-12 max-w-5xl\">\r\r\n          <Tabs\r\r\n            defaultValue=\"monthly\"\r\r\n            className=\"w-full\"\r\r\n            onValueChange={(value) =>\r\r\n              setBillingPeriod(value as \"monthly\" | \"annually\")\r\r\n            }\r\r\n          >\r\r\n            <div className=\"flex justify-center\">\r\r\n              <TabsList className=\"mb-8\">\r\r\n                <TabsTrigger value=\"monthly\">Monthly</TabsTrigger>\r\r\n                <TabsTrigger value=\"annually\">Annually (Save 20%)</TabsTrigger>\r\r\n              </TabsList>\r\r\n            </div>\r\r\n\r\r\n            <div className=\"mx-auto mb-12 max-w-3xl\">\r\r\n              <Card>\r\r\n                <CardHeader>\r\r\n                  <CardTitle className=\"text-center\">\r\r\n                    Estimate your cost\r\r\n                  </CardTitle>\r\r\n                </CardHeader>\r\r\n                <CardContent>\r\r\n                  <div className=\"space-y-6\">\r\r\n                    <div>\r\r\n                      <div className=\"mb-4 flex items-center justify-between\">\r\r\n                        <h3 className=\"text-sm font-medium\">\r\r\n                          Monthly API calls\r\r\n                        </h3>\r\r\n                        <div className=\"bg-primary/10 rounded-full px-3 py-1 text-sm font-medium\">\r\r\n                          {formatNumber(usage)}\r\r\n                        </div>\r\r\n                      </div>\r\r\n                      <Slider\r\r\n                        value={[usage]}\r\r\n                        min={1000}\r\r\n                        max={1000000}\r\r\n                        step={1000}\r\r\n                        onValueChange={(value) => setUsage(value[0])}\r\r\n                      />\r\r\n                      <div className=\"text-muted-foreground mt-2 flex justify-between text-xs\">\r\r\n                        <span>1,000</span>\r\r\n                        <span>100,000</span>\r\r\n                        <span>1,000,000</span>\r\r\n                      </div>\r\r\n                    </div>\r\r\n                  </div>\r\r\n                </CardContent>\r\r\n              </Card>\r\r\n            </div>\r\r\n\r\r\n            <div className=\"grid gap-6 md:grid-cols-3\">\r\r\n              {plans.map((plan) => {\r\r\n                // Calculate price based on usage and billing period\r\r\n                const basePrice = plan.basePrice * annualMultiplier;\r\r\n                const price = calculatePrice(\r\r\n                  basePrice,\r\r\n                  Math.max(\r\r\n                    0,\r\r\n                    usage -\r\r\n                      (plan.name === \"Starter\"\r\r\n                        ? 10000\r\r\n                        : plan.name === \"Growth\"\r\r\n                          ? 100000\r\r\n                          : 1000000),\r\r\n                  ),\r\r\n                );\r\r\n\r\r\n                return (\r\r\n                  <Card\r\r\n                    key={plan.name}\r\r\n                    className={cn(\r\r\n                      \"flex flex-col\",\r\r\n                      plan.popular && \"border-primary shadow-md\",\r\r\n                    )}\r\r\n                  >\r\r\n                    <CardHeader>\r\r\n                      <CardTitle>{plan.name}</CardTitle>\r\r\n                      <div className=\"mt-4 flex items-baseline\">\r\r\n                        <span className=\"text-4xl font-bold\">\r\r\n                          ${price.toFixed(2)}\r\r\n                        </span>\r\r\n                        <span className=\"text-muted-foreground ml-1 text-sm\">\r\r\n                          /{billingPeriod === \"monthly\" ? \"mo\" : \"yr\"}\r\r\n                        </span>\r\r\n                      </div>\r\r\n                      {plan.basePrice > 0 && (\r\r\n                        <div className=\"text-muted-foreground mt-1 text-xs\">\r\r\n                          ${plan.basePrice * annualMultiplier} base + usage\r\r\n                        </div>\r\r\n                      )}\r\r\n                    </CardHeader>\r\r\n                    <CardContent className=\"flex-1\">\r\r\n                      <ul className=\"space-y-2 text-sm\">\r\r\n                        {plan.features.map((feature) => (\r\r\n                          <li key={feature} className=\"flex items-center\">\r\r\n                            <CheckIcon className=\"text-primary mr-2 h-4 w-4\" />\r\r\n                            <span>{feature}</span>\r\r\n                          </li>\r\r\n                        ))}\r\r\n                      </ul>\r\r\n                    </CardContent>\r\r\n                    <CardFooter>\r\r\n                      <Button\r\r\n                        className=\"w-full\"\r\r\n                        variant={plan.popular ? \"default\" : \"outline\"}\r\r\n                        asChild\r\r\n                      >\r\r\n                        <Link href=\"/signup\">Get Started</Link>\r\r\n                      </Button>\r\r\n                    </CardFooter>\r\r\n                  </Card>\r\r\n                );\r\r\n              })}\r\r\n            </div>\r\r\n          </Tabs>\r\r\n        </div>\r\r\n\r\r\n        <div className=\"bg-card mx-auto mt-16 max-w-3xl rounded-lg border p-6 shadow-sm\">\r\r\n          <h3 className=\"text-lg font-medium\">Usage-based pricing details</h3>\r\r\n          <div className=\"mt-4 overflow-x-auto\">\r\r\n            <table className=\"w-full text-sm\">\r\r\n              <thead>\r\r\n                <tr className=\"border-b\">\r\r\n                  <th className=\"pb-2 text-left font-medium\">\r\r\n                    Monthly API calls\r\r\n                  </th>\r\r\n                  <th className=\"pb-2 text-right font-medium\">Rate per call</th>\r\r\n                </tr>\r\r\n              </thead>\r\r\n              <tbody>\r\r\n                <tr className=\"border-b\">\r\r\n                  <td className=\"py-2\">First 10,000</td>\r\r\n                  <td className=\"py-2 text-right\">$0.01</td>\r\r\n                </tr>\r\r\n                <tr className=\"border-b\">\r\r\n                  <td className=\"py-2\">10,001 - 100,000</td>\r\r\n                  <td className=\"py-2 text-right\">$0.008</td>\r\r\n                </tr>\r\r\n                <tr className=\"border-b\">\r\r\n                  <td className=\"py-2\">100,001 - 1,000,000</td>\r\r\n                  <td className=\"py-2 text-right\">$0.006</td>\r\r\n                </tr>\r\r\n                <tr>\r\r\n                  <td className=\"py-2\">1,000,001+</td>\r\r\n                  <td className=\"py-2 text-right\">$0.004</td>\r\r\n                </tr>\r\r\n              </tbody>\r\r\n            </table>\r\r\n          </div>\r\r\n          <p className=\"text-muted-foreground mt-4 text-sm\">\r\r\n            Each plan includes a certain number of free API calls. Additional\r\r\n            usage is billed at the rates above.\r\r\n          </p>\r\r\n        </div>\r\r\n\r\r\n        <div className=\"text-muted-foreground mt-12 text-center text-sm\">\r\r\n          Need a custom plan?{\" \"}\r\r\n          <Link\r\r\n            href=\"/contact\"\r\r\n            className=\"text-primary underline underline-offset-4\"\r\r\n          >\r\r\n            Contact our sales team\r\r\n          </Link>{\" \"}\r\r\n          for volume discounts.\r\r\n        </div>\r\r\n      </div>\r\r\n    </section>\r\r\n  );\r\r\n}\r\r\n",
      "type": "registry:block"
    }
  ],
  "meta": {
    "tags": [
      "pricing-sections"
    ]
  }
}