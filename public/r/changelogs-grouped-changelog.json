{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "changelogs-grouped-changelog",
  "type": "registry:block",
  "registryDependencies": [
    "https://ui.woilasoft.com/r/accordion.json",
    "https://ui.woilasoft.com/r/badge.json",
    "https://ui.woilasoft.com/r/card.json"
  ],
  "files": [
    {
      "path": "registry/default/blocks/changelogs-grouped-changelog.tsx",
      "content": "\"use client\";\r\r\n\r\r\nimport * as React from \"react\";\r\r\nimport { Badge } from \"@/registry/default/ui/badge\";\r\r\nimport { Card, CardContent } from \"@/registry/default/ui/card\";\r\r\nimport {\r\r\n  Accordion,\r\r\n  AccordionContent,\r\r\n  AccordionItem,\r\r\n  AccordionTrigger,\r\r\n} from \"@/registry/default/ui/accordion\";\r\r\nimport { cn } from \"@/lib/utils\";\r\r\n\r\r\ninterface ChangelogItem {\r\r\n  version: string;\r\r\n  date: string;\r\r\n  isLatest: boolean;\r\r\n  changes: {\r\r\n    type: \"feature\" | \"improvement\" | \"bugfix\" | \"breaking\";\r\r\n    description: string;\r\r\n  }[];\r\r\n}\r\r\n\r\r\ninterface TimeGroup {\r\r\n  year: number;\r\r\n  quarters: {\r\r\n    quarter: number;\r\r\n    releases: ChangelogItem[];\r\r\n  }[];\r\r\n}\r\r\n\r\r\nexport default function GroupedChangelog() {\r\r\n  // Sample data\r\r\n  const changelogData: ChangelogItem[] = [\r\r\n    {\r\r\n      version: \"2.0.0\",\r\r\n      date: \"2023-04-15\",\r\r\n      isLatest: true,\r\r\n      changes: [\r\r\n        {\r\r\n          type: \"feature\",\r\r\n          description: \"Completely redesigned dashboard interface\",\r\r\n        },\r\r\n        {\r\r\n          type: \"feature\",\r\r\n          description: \"Added dark mode support across all pages\",\r\r\n        },\r\r\n        { type: \"improvement\", description: \"Improved performance by 40%\" },\r\r\n        { type: \"bugfix\", description: \"Fixed multiple accessibility issues\" },\r\r\n        {\r\r\n          type: \"breaking\",\r\r\n          description: \"API endpoints restructured for v2\",\r\r\n        },\r\r\n      ],\r\r\n    },\r\r\n    {\r\r\n      version: \"1.9.0\",\r\r\n      date: \"2023-02-10\",\r\r\n      isLatest: false,\r\r\n      changes: [\r\r\n        { type: \"feature\", description: \"Added export to PDF functionality\" },\r\r\n        { type: \"improvement\", description: \"Enhanced search performance\" },\r\r\n        { type: \"bugfix\", description: \"Fixed login issues on Safari\" },\r\r\n      ],\r\r\n    },\r\r\n    {\r\r\n      version: \"1.8.5\",\r\r\n      date: \"2022-12-07\",\r\r\n      isLatest: false,\r\r\n      changes: [\r\r\n        {\r\r\n          type: \"improvement\",\r\r\n          description: \"Year-end performance optimizations\",\r\r\n        },\r\r\n        { type: \"bugfix\", description: \"Fixed data visualization issues\" },\r\r\n      ],\r\r\n    },\r\r\n    {\r\r\n      version: \"1.8.0\",\r\r\n      date: \"2022-10-20\",\r\r\n      isLatest: false,\r\r\n      changes: [\r\r\n        { type: \"feature\", description: \"New data visualization options\" },\r\r\n        { type: \"feature\", description: \"Added team collaboration features\" },\r\r\n        { type: \"improvement\", description: \"Updated documentation\" },\r\r\n      ],\r\r\n    },\r\r\n    {\r\r\n      version: \"1.7.0\",\r\r\n      date: \"2022-08-05\",\r\r\n      isLatest: false,\r\r\n      changes: [\r\r\n        { type: \"feature\", description: \"Added user roles and permissions\" },\r\r\n        { type: \"bugfix\", description: \"Fixed several UI glitches\" },\r\r\n      ],\r\r\n    },\r\r\n    {\r\r\n      version: \"1.6.0\",\r\r\n      date: \"2022-05-12\",\r\r\n      isLatest: false,\r\r\n      changes: [\r\r\n        { type: \"feature\", description: \"Integrated third-party API services\" },\r\r\n        { type: \"improvement\", description: \"Enhanced mobile experience\" },\r\r\n      ],\r\r\n    },\r\r\n    {\r\r\n      version: \"1.5.0\",\r\r\n      date: \"2022-02-28\",\r\r\n      isLatest: false,\r\r\n      changes: [\r\r\n        { type: \"feature\", description: \"Added custom report builder\" },\r\r\n        { type: \"improvement\", description: \"Improved data loading times\" },\r\r\n      ],\r\r\n    },\r\r\n    {\r\r\n      version: \"1.4.0\",\r\r\n      date: \"2021-11-18\",\r\r\n      isLatest: false,\r\r\n      changes: [\r\r\n        { type: \"feature\", description: \"Added multi-language support\" },\r\r\n        { type: \"bugfix\", description: \"Fixed account settings issues\" },\r\r\n      ],\r\r\n    },\r\r\n  ];\r\r\n\r\r\n  // Group data by year and quarter\r\r\n  const groupedData: TimeGroup[] = React.useMemo(() => {\r\r\n    const groups: Record<number, TimeGroup> = {};\r\r\n\r\r\n    changelogData.forEach((item) => {\r\r\n      const date = new Date(item.date);\r\r\n      const year = date.getFullYear();\r\r\n      const quarter = Math.floor(date.getMonth() / 3) + 1;\r\r\n\r\r\n      if (!groups[year]) {\r\r\n        groups[year] = { year, quarters: [] };\r\r\n      }\r\r\n\r\r\n      let quarterGroup = groups[year].quarters.find(\r\r\n        (q) => q.quarter === quarter,\r\r\n      );\r\r\n      if (!quarterGroup) {\r\r\n        quarterGroup = { quarter, releases: [] };\r\r\n        groups[year].quarters.push(quarterGroup);\r\r\n      }\r\r\n\r\r\n      quarterGroup.releases.push(item);\r\r\n    });\r\r\n\r\r\n    // Sort quarters in descending order\r\r\n    Object.values(groups).forEach((yearGroup) => {\r\r\n      yearGroup.quarters.sort((a, b) => b.quarter - a.quarter);\r\r\n      yearGroup.quarters.forEach((quarter) => {\r\r\n        quarter.releases.sort(\r\r\n          (a, b) => new Date(b.date).getTime() - new Date(a.date).getTime(),\r\r\n        );\r\r\n      });\r\r\n    });\r\r\n\r\r\n    // Sort years in descending order\r\r\n    return Object.values(groups).sort((a, b) => b.year - a.year);\r\r\n  }, [changelogData]);\r\r\n\r\r\n  // Get quarterly name\r\r\n  const getQuarterName = (quarter: number) => {\r\r\n    return `Q${quarter}`;\r\r\n  };\r\r\n\r\r\n  // Format date for display\r\r\n  const formatDate = (dateString: string) => {\r\r\n    const options: Intl.DateTimeFormatOptions = {\r\r\n      year: \"numeric\",\r\r\n      month: \"long\",\r\r\n      day: \"numeric\",\r\r\n    };\r\r\n    return new Date(dateString).toLocaleDateString(\"en-US\", options);\r\r\n  };\r\r\n\r\r\n  // Change type styling\r\r\n  const getChangeTypeStyles = (type: string) => {\r\r\n    switch (type) {\r\r\n      case \"feature\":\r\r\n        return \"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400 border-transparent\";\r\r\n      case \"improvement\":\r\r\n        return \"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400 border-transparent\";\r\r\n      case \"bugfix\":\r\r\n        return \"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400 border-transparent\";\r\r\n      case \"breaking\":\r\r\n        return \"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-400 border-transparent\";\r\r\n      default:\r\r\n        return \"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200 border-transparent\";\r\r\n    }\r\r\n  };\r\r\n\r\r\n  // Get change type label\r\r\n  const getChangeTypeLabel = (type: string) => {\r\r\n    switch (type) {\r\r\n      case \"feature\":\r\r\n        return \"New\";\r\r\n      case \"improvement\":\r\r\n        return \"Improved\";\r\r\n      case \"bugfix\":\r\r\n        return \"Fixed\";\r\r\n      case \"breaking\":\r\r\n        return \"Breaking\";\r\r\n      default:\r\r\n        return type;\r\r\n    }\r\r\n  };\r\r\n\r\r\n  return (\r\r\n    <div className=\"container mx-auto max-w-4xl px-4 py-8\">\r\r\n      <div className=\"mb-8\">\r\r\n        <h2 className=\"text-3xl font-bold tracking-tight\">Changelog</h2>\r\r\n        <p className=\"text-muted-foreground mt-2\">\r\r\n          History of changes organized by year and quarter\r\r\n        </p>\r\r\n      </div>\r\r\n\r\r\n      <div className=\"space-y-6\">\r\r\n        {groupedData.map((yearGroup) => (\r\r\n          <Accordion\r\r\n            type=\"single\"\r\r\n            collapsible\r\r\n            className=\"w-full\"\r\r\n            defaultValue={yearGroup.year.toString()}\r\r\n            key={yearGroup.year}\r\r\n          >\r\r\n            <AccordionItem\r\r\n              value={yearGroup.year.toString()}\r\r\n              className=\"border-b-0\"\r\r\n            >\r\r\n              <AccordionTrigger className=\"bg-muted/50 hover:bg-muted rounded-lg px-4 py-3 hover:no-underline data-[state=open]:rounded-b-none\">\r\r\n                <span className=\"text-xl font-bold\">{yearGroup.year}</span>\r\r\n              </AccordionTrigger>\r\r\n              <AccordionContent className=\"pt-0 pb-0\">\r\r\n                <div className=\"space-y-6 pb-6\">\r\r\n                  {yearGroup.quarters.map((quarter) => (\r\r\n                    <div\r\r\n                      key={`${yearGroup.year}-Q${quarter.quarter}`}\r\r\n                      className=\"rounded-lg border border-dashed p-3 sm:p-4\"\r\r\n                    >\r\r\n                      <h3 className=\"mb-4 flex flex-wrap items-center gap-2 text-lg font-semibold\">\r\r\n                        <span className=\"text-muted-foreground text-sm font-medium\">\r\r\n                          {yearGroup.year}\r\r\n                        </span>\r\r\n                        <Badge variant=\"outline\" className=\"bg-muted/50\">\r\r\n                          {getQuarterName(quarter.quarter)}\r\r\n                        </Badge>\r\r\n                      </h3>\r\r\n                      <div className=\"space-y-4\">\r\r\n                        {quarter.releases.map((release) => (\r\r\n                          <Card\r\r\n                            key={release.version}\r\r\n                            className=\"overflow-hidden pt-0\"\r\r\n                          >\r\r\n                            <CardContent className=\"p-0\">\r\r\n                              <div className=\"bg-muted/30 border-b p-3 sm:p-4\">\r\r\n                                <div className=\"flex flex-col gap-2 sm:flex-row sm:items-center\">\r\r\n                                  <div className=\"flex flex-wrap items-center gap-2\">\r\r\n                                    <h4 className=\"text-lg font-bold\">\r\r\n                                      v{release.version}\r\r\n                                    </h4>\r\r\n                                    {release.isLatest && (\r\r\n                                      <Badge className=\"bg-primary text-primary-foreground\">\r\r\n                                        Latest\r\r\n                                      </Badge>\r\r\n                                    )}\r\r\n                                  </div>\r\r\n                                  <time className=\"text-muted-foreground text-sm sm:ml-auto\">\r\r\n                                    {formatDate(release.date)}\r\r\n                                  </time>\r\r\n                                </div>\r\r\n                              </div>\r\r\n                              <ul className=\"divide-y\">\r\r\n                                {release.changes.map((change, i) => (\r\r\n                                  <li\r\r\n                                    key={`${release.version}-${i}`}\r\r\n                                    className=\"flex flex-col gap-2 p-3 sm:flex-row sm:items-start sm:p-4\"\r\r\n                                  >\r\r\n                                    <Badge\r\r\n                                      variant=\"outline\"\r\r\n                                      className={cn(\r\r\n                                        \"min-w-[60px] justify-center self-start rounded px-1.5 text-xs capitalize\",\r\r\n                                        getChangeTypeStyles(change.type),\r\r\n                                      )}\r\r\n                                    >\r\r\n                                      {getChangeTypeLabel(change.type)}\r\r\n                                    </Badge>\r\r\n                                    <span className=\"break-words sm:ml-2\">\r\r\n                                      {change.description}\r\r\n                                    </span>\r\r\n                                  </li>\r\r\n                                ))}\r\r\n                              </ul>\r\r\n                            </CardContent>\r\r\n                          </Card>\r\r\n                        ))}\r\r\n                      </div>\r\r\n                    </div>\r\r\n                  ))}\r\r\n                </div>\r\r\n              </AccordionContent>\r\r\n            </AccordionItem>\r\r\n          </Accordion>\r\r\n        ))}\r\r\n      </div>\r\r\n    </div>\r\r\n  );\r\r\n}\r\r\n",
      "type": "registry:block"
    }
  ],
  "meta": {
    "tags": [
      "changelogs"
    ]
  }
}