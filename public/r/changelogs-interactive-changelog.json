{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "changelogs-interactive-changelog",
  "type": "registry:block",
  "registryDependencies": [
    "https://ui.woilasoft.com/r/badge.json",
    "https://ui.woilasoft.com/r/card.json",
    "https://ui.woilasoft.com/r/input.json",
    "https://ui.woilasoft.com/r/tabs.json"
  ],
  "files": [
    {
      "path": "registry/default/blocks/changelogs-interactive-changelog.tsx",
      "content": "\"use client\";\r\r\n\r\r\nimport * as React from \"react\";\r\r\nimport { Badge } from \"@/registry/default/ui/badge\";\r\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/registry/default/ui/card\";\r\r\nimport { Input } from \"@/registry/default/ui/input\";\r\r\nimport { useState } from \"react\";\r\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/registry/default/ui/tabs\";\r\r\n\r\r\n// Define interfaces for our data structures\r\r\ninterface ChangelogCategory {\r\r\n  features: string[];\r\r\n  improvements: string[];\r\r\n  fixes: string[];\r\r\n  breaking: string[];\r\r\n}\r\r\n\r\r\ninterface Version {\r\r\n  version: string;\r\r\n  date: string;\r\r\n  isLatest: boolean;\r\r\n  categories: ChangelogCategory;\r\r\n}\r\r\n\r\r\ninterface Change {\r\r\n  version: string;\r\r\n  date: string;\r\r\n  isLatest: boolean;\r\r\n  category: keyof ChangelogCategory;\r\r\n  text: string;\r\r\n}\r\r\n\r\r\ninterface GroupedVersion {\r\r\n  version: string;\r\r\n  date: string;\r\r\n  isLatest: boolean;\r\r\n  categories: ChangelogCategory;\r\r\n}\r\r\n\r\r\nexport default function InteractiveChangelog() {\r\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\r\n\r\r\n  const versions: Version[] = [\r\r\n    {\r\r\n      version: \"2.0.0\",\r\r\n      date: \"April 15, 2023\",\r\r\n      isLatest: true,\r\r\n      categories: {\r\r\n        features: [\r\r\n          \"Completely redesigned dashboard interface\",\r\r\n          \"Added dark mode support across all pages\",\r\r\n          \"New analytics dashboard with advanced filters\",\r\r\n        ],\r\r\n        improvements: [\r\r\n          \"Improved performance by 40%\",\r\r\n          \"Enhanced mobile responsiveness\",\r\r\n          \"Better form validation\",\r\r\n        ],\r\r\n        fixes: [\r\r\n          \"Fixed multiple accessibility issues\",\r\r\n          \"Corrected display issues on Safari\",\r\r\n          \"Fixed authentication errors\",\r\r\n        ],\r\r\n        breaking: [\r\r\n          \"API endpoints restructured for v2\",\r\r\n          \"Removed deprecated features\",\r\r\n          \"Changed authentication flow\",\r\r\n        ],\r\r\n      },\r\r\n    },\r\r\n    {\r\r\n      version: \"1.2.0\",\r\r\n      date: \"March 2, 2023\",\r\r\n      isLatest: false,\r\r\n      categories: {\r\r\n        features: [\"Added new analytics dashboard\", \"Introduced user profiles\"],\r\r\n        improvements: [\r\r\n          \"Improved mobile responsiveness\",\r\r\n          \"Enhanced search functionality\",\r\r\n        ],\r\r\n        fixes: [\r\r\n          \"Fixed bug with user authentication\",\r\r\n          \"Resolved display issues on small screens\",\r\r\n        ],\r\r\n        breaking: [],\r\r\n      },\r\r\n    },\r\r\n    {\r\r\n      version: \"1.1.0\",\r\r\n      date: \"January 15, 2023\",\r\r\n      isLatest: false,\r\r\n      categories: {\r\r\n        features: [\r\r\n          \"Added support for custom themes\",\r\r\n          \"Introduced export functionality\",\r\r\n        ],\r\r\n        improvements: [\"Improved form validation\", \"Updated documentation\"],\r\r\n        fixes: [],\r\r\n        breaking: [],\r\r\n      },\r\r\n    },\r\r\n  ];\r\r\n\r\r\n  const allChanges: Change[] = versions.flatMap((version) => {\r\r\n    const allCategoryItems = Object.entries(version.categories).flatMap(\r\r\n      ([category, items]) =>\r\r\n        items.map((item: string) => ({\r\r\n          version: version.version,\r\r\n          date: version.date,\r\r\n          isLatest: version.isLatest,\r\r\n          category: category as keyof ChangelogCategory,\r\r\n          text: item,\r\r\n        })),\r\r\n    );\r\r\n    return allCategoryItems;\r\r\n  });\r\r\n\r\r\n  const filteredChanges = searchQuery\r\r\n    ? allChanges.filter((change) =>\r\r\n        change.text.toLowerCase().includes(searchQuery.toLowerCase()),\r\r\n      )\r\r\n    : allChanges;\r\r\n\r\r\n  const categoryIcons: Record<keyof ChangelogCategory, React.JSX.Element> = {\r\r\n    features: (\r\r\n      <svg\r\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\r\n        width=\"16\"\r\r\n        height=\"16\"\r\r\n        viewBox=\"0 0 24 24\"\r\r\n        fill=\"none\"\r\r\n        stroke=\"currentColor\"\r\r\n        strokeWidth=\"2\"\r\r\n        strokeLinecap=\"round\"\r\r\n        strokeLinejoin=\"round\"\r\r\n        className=\"mr-1.5 text-green-500\"\r\r\n      >\r\r\n        <path d=\"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z\"></path>\r\r\n        <path d=\"m9 12 2 2 4-4\"></path>\r\r\n      </svg>\r\r\n    ),\r\r\n    improvements: (\r\r\n      <svg\r\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\r\n        width=\"16\"\r\r\n        height=\"16\"\r\r\n        viewBox=\"0 0 24 24\"\r\r\n        fill=\"none\"\r\r\n        stroke=\"currentColor\"\r\r\n        strokeWidth=\"2\"\r\r\n        strokeLinecap=\"round\"\r\r\n        strokeLinejoin=\"round\"\r\r\n        className=\"mr-1.5 text-blue-500\"\r\r\n      >\r\r\n        <path d=\"M12 20V10\"></path>\r\r\n        <path d=\"M18 20V4\"></path>\r\r\n        <path d=\"M6 20v-4\"></path>\r\r\n      </svg>\r\r\n    ),\r\r\n    fixes: (\r\r\n      <svg\r\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\r\n        width=\"16\"\r\r\n        height=\"16\"\r\r\n        viewBox=\"0 0 24 24\"\r\r\n        fill=\"none\"\r\r\n        stroke=\"currentColor\"\r\r\n        strokeWidth=\"2\"\r\r\n        strokeLinecap=\"round\"\r\r\n        strokeLinejoin=\"round\"\r\r\n        className=\"mr-1.5 text-red-500\"\r\r\n      >\r\r\n        <path d=\"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z\"></path>\r\r\n        <path d=\"M12 9v4\"></path>\r\r\n        <path d=\"M12 17h.01\"></path>\r\r\n      </svg>\r\r\n    ),\r\r\n    breaking: (\r\r\n      <svg\r\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\r\n        width=\"16\"\r\r\n        height=\"16\"\r\r\n        viewBox=\"0 0 24 24\"\r\r\n        fill=\"none\"\r\r\n        stroke=\"currentColor\"\r\r\n        strokeWidth=\"2\"\r\r\n        strokeLinecap=\"round\"\r\r\n        strokeLinejoin=\"round\"\r\r\n        className=\"mr-1.5 text-amber-500\"\r\r\n      >\r\r\n        <path d=\"M10.29 3.86 1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z\"></path>\r\r\n        <line x1=\"12\" y1=\"9\" x2=\"12\" y2=\"13\"></line>\r\r\n        <line x1=\"12\" y1=\"17\" x2=\"12.01\" y2=\"17\"></line>\r\r\n      </svg>\r\r\n    ),\r\r\n  };\r\r\n\r\r\n  const categoryLabels: Record<keyof ChangelogCategory, string> = {\r\r\n    features: \"Features\",\r\r\n    improvements: \"Improvements\",\r\r\n    fixes: \"Bug Fixes\",\r\r\n    breaking: \"Breaking Changes\",\r\r\n  };\r\r\n\r\r\n  const getGroupedChanges = (): GroupedVersion[] => {\r\r\n    // Group by version\r\r\n    const byVersion: Record<string, GroupedVersion> = {};\r\r\n    filteredChanges.forEach((change) => {\r\r\n      if (!byVersion[change.version]) {\r\r\n        byVersion[change.version] = {\r\r\n          version: change.version,\r\r\n          date: change.date,\r\r\n          isLatest: change.isLatest,\r\r\n          categories: {\r\r\n            features: [],\r\r\n            improvements: [],\r\r\n            fixes: [],\r\r\n            breaking: [],\r\r\n          },\r\r\n        };\r\r\n      }\r\r\n      byVersion[change.version].categories[change.category].push(change.text);\r\r\n    });\r\r\n    return Object.values(byVersion);\r\r\n  };\r\r\n\r\r\n  const groupedByVersion = getGroupedChanges();\r\r\n\r\r\n  // Group by category\r\r\n  const changesByCategory: Record<keyof ChangelogCategory, Change[]> = {\r\r\n    features: filteredChanges.filter((c) => c.category === \"features\"),\r\r\n    improvements: filteredChanges.filter((c) => c.category === \"improvements\"),\r\r\n    fixes: filteredChanges.filter((c) => c.category === \"fixes\"),\r\r\n    breaking: filteredChanges.filter((c) => c.category === \"breaking\"),\r\r\n  };\r\r\n\r\r\n  return (\r\r\n    <div className=\"container mx-auto max-w-4xl px-4 py-8\">\r\r\n      <div className=\"mb-8\">\r\r\n        <h2 className=\"mb-2 text-3xl font-bold tracking-tight\">Changelog</h2>\r\r\n        <div className=\"max-w-md\">\r\r\n          <div className=\"relative\">\r\r\n            <svg\r\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\r\n              width=\"16\"\r\r\n              height=\"16\"\r\r\n              viewBox=\"0 0 24 24\"\r\r\n              fill=\"none\"\r\r\n              stroke=\"currentColor\"\r\r\n              strokeWidth=\"2\"\r\r\n              strokeLinecap=\"round\"\r\r\n              strokeLinejoin=\"round\"\r\r\n              className=\"text-muted-foreground absolute top-1/2 left-3 -translate-y-1/2\"\r\r\n            >\r\r\n              <circle cx=\"11\" cy=\"11\" r=\"8\"></circle>\r\r\n              <path d=\"m21 21-4.3-4.3\"></path>\r\r\n            </svg>\r\r\n            <Input\r\r\n              type=\"search\"\r\r\n              placeholder=\"Search changes...\"\r\r\n              className=\"mt-4 pl-10\"\r\r\n              value={searchQuery}\r\r\n              onChange={(e) => setSearchQuery(e.target.value)}\r\r\n            />\r\r\n          </div>\r\r\n        </div>\r\r\n      </div>\r\r\n\r\r\n      <Tabs defaultValue=\"by-version\" className=\"w-full\">\r\r\n        <TabsList className=\"mb-6 grid w-full grid-cols-2\">\r\r\n          <TabsTrigger value=\"by-version\">By Version</TabsTrigger>\r\r\n          <TabsTrigger value=\"by-category\">By Category</TabsTrigger>\r\r\n        </TabsList>\r\r\n\r\r\n        <TabsContent value=\"by-version\" className=\"mt-0\">\r\r\n          <div className=\"space-y-8\">\r\r\n            {searchQuery && filteredChanges.length === 0 ? (\r\r\n              <p className=\"text-muted-foreground py-12 text-center\">\r\r\n                No changes found matching &quot;{searchQuery}&quot;\r\r\n              </p>\r\r\n            ) : (\r\r\n              groupedByVersion.map((version) => (\r\r\n                <Card key={version.version} className=\"overflow-hidden pt-0\">\r\r\n                  <CardHeader className=\"bg-muted/40 grid-rows-none py-3\">\r\r\n                    <div className=\"flex items-center justify-between\">\r\r\n                      <div className=\"flex items-center gap-2\">\r\r\n                        <CardTitle>Version {version.version}</CardTitle>\r\r\n                        {version.isLatest && <Badge>Latest</Badge>}\r\r\n                      </div>\r\r\n                      <time className=\"text-muted-foreground hidden text-sm sm:block\">\r\r\n                        {version.date}\r\r\n                      </time>\r\r\n                    </div>\r\r\n                    <time className=\"text-muted-foreground mt-1 block text-sm sm:hidden\">\r\r\n                      {version.date}\r\r\n                    </time>\r\r\n                  </CardHeader>\r\r\n                  <CardContent className=\"p-0\">\r\r\n                    <div className=\"divide-y\">\r\r\n                      {Object.entries(version.categories).map(\r\r\n                        ([category, items]) => {\r\r\n                          const typedCategory =\r\r\n                            category as keyof ChangelogCategory;\r\r\n                          return items.length > 0 ? (\r\r\n                            <div key={category} className=\"p-4\">\r\r\n                              <h4 className=\"mb-3 flex items-center text-sm font-medium\">\r\r\n                                {categoryIcons[typedCategory]}\r\r\n                                {categoryLabels[typedCategory]}\r\r\n                              </h4>\r\r\n                              <ul className=\"space-y-2 pl-6 text-sm\">\r\r\n                                {items.map((item: string, i: number) => (\r\r\n                                  <li key={i} className=\"list-disc\">\r\r\n                                    {item}\r\r\n                                  </li>\r\r\n                                ))}\r\r\n                              </ul>\r\r\n                            </div>\r\r\n                          ) : null;\r\r\n                        },\r\r\n                      )}\r\r\n                    </div>\r\r\n                  </CardContent>\r\r\n                </Card>\r\r\n              ))\r\r\n            )}\r\r\n          </div>\r\r\n        </TabsContent>\r\r\n\r\r\n        <TabsContent value=\"by-category\" className=\"mt-0\">\r\r\n          <div className=\"space-y-8\">\r\r\n            {searchQuery && filteredChanges.length === 0 ? (\r\r\n              <p className=\"text-muted-foreground py-12 text-center\">\r\r\n                No changes found matching &quot;{searchQuery}&quot;\r\r\n              </p>\r\r\n            ) : (\r\r\n              Object.entries(changesByCategory).map(([category, changes]) => {\r\r\n                const typedCategory = category as keyof ChangelogCategory;\r\r\n                return changes.length > 0 ? (\r\r\n                  <Card key={category} className=\"overflow-hidden pt-0\">\r\r\n                    <CardHeader className=\"bg-muted/40 grid-rows-none py-3\">\r\r\n                      <CardTitle className=\"flex items-center text-base\">\r\r\n                        {categoryIcons[typedCategory]}\r\r\n                        {categoryLabels[typedCategory]}\r\r\n                      </CardTitle>\r\r\n                    </CardHeader>\r\r\n                    <CardContent className=\"p-0\">\r\r\n                      <div className=\"divide-y\">\r\r\n                        {changes.map((change, index) => (\r\r\n                          <div key={index} className=\"p-4\">\r\r\n                            <div className=\"mb-2 flex items-center justify-between\">\r\r\n                              <div className=\"flex items-center gap-2\">\r\r\n                                <span className=\"font-medium\">\r\r\n                                  v{change.version}\r\r\n                                </span>\r\r\n                                {change.isLatest && (\r\r\n                                  <Badge className=\"px-1.5 py-0 text-[10px]\">\r\r\n                                    Latest\r\r\n                                  </Badge>\r\r\n                                )}\r\r\n                              </div>\r\r\n                              <time className=\"text-muted-foreground text-xs\">\r\r\n                                {change.date}\r\r\n                              </time>\r\r\n                            </div>\r\r\n                            <p className=\"text-sm\">{change.text}</p>\r\r\n                          </div>\r\r\n                        ))}\r\r\n                      </div>\r\r\n                    </CardContent>\r\r\n                  </Card>\r\r\n                ) : null;\r\r\n              })\r\r\n            )}\r\r\n          </div>\r\r\n        </TabsContent>\r\r\n      </Tabs>\r\r\n    </div>\r\r\n  );\r\r\n}\r\r\n",
      "type": "registry:block"
    }
  ],
  "meta": {
    "tags": [
      "changelogs"
    ]
  }
}