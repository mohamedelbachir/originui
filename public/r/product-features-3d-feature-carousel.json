{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "product-features-3d-feature-carousel",
  "type": "registry:block",
  "registryDependencies": [
    "https://ui.woilasoft.com/r/badge.json",
    "https://ui.woilasoft.com/r/button.json"
  ],
  "files": [
    {
      "path": "registry/default/blocks/product-features-3d-feature-carousel.tsx",
      "content": "\"use client\";\r\r\n\r\r\nimport { useState, useRef, useEffect } from \"react\";\r\r\nimport Image from \"next/image\";\r\r\nimport Link from \"next/link\";\r\r\nimport { ArrowRight, ArrowLeft, ChevronRight } from \"lucide-react\";\r\r\nimport { Badge } from \"@/registry/default/ui/badge\";\r\r\nimport { Button } from \"@/registry/default/ui/button\";\r\r\nimport { cn } from \"@/lib/utils\";\r\r\n\r\r\ninterface Feature {\r\r\n  id: string;\r\r\n  title: string;\r\r\n  description: string;\r\r\n  image: string;\r\r\n  color: string;\r\r\n}\r\r\n\r\r\nexport default function ThreeDFeatureCarousel() {\r\r\n  const [activeIndex, setActiveIndex] = useState(0);\r\r\n  const setIsAutoRotating = useState(true)[1];\r\r\n  const [direction] = useState(1); // 1 for forward, -1 for backward\r\r\n  const autoRotateTimerRef = useRef<NodeJS.Timeout | null>(null);\r\r\n  const containerRef = useRef<HTMLDivElement>(null);\r\r\n\r\r\n  const features: Feature[] = [\r\r\n    {\r\r\n      id: \"anc\",\r\r\n      title: \"Active Noise Cancellation\",\r\r\n      description:\r\r\n        \"Advanced microphones and proprietary algorithms detect and cancel unwanted noise, allowing you to focus on your music or calls without distractions.\",\r\r\n      image:\r\r\n        \"https://images.unsplash.com/photo-1484704849700-f032a568e944?q=80&w=2070&auto=format&fit=crop\",\r\r\n      color: \"bg-blue-500/90\",\r\r\n    },\r\r\n    {\r\r\n      id: \"sound\",\r\r\n      title: \"Spatial Audio\",\r\r\n      description:\r\r\n        \"Experience immersive, theater-like sound with dynamic head tracking that makes music, movies, and games come alive all around you.\",\r\r\n      image:\r\r\n        \"https://images.unsplash.com/photo-1558537348-c0f8e733989d?q=80&w=2070&auto=format&fit=crop\",\r\r\n      color: \"bg-purple-500/90\",\r\r\n    },\r\r\n    {\r\r\n      id: \"battery\",\r\r\n      title: \"30-Hour Battery Life\",\r\r\n      description:\r\r\n        \"Enjoy a full day of listening with up to 30 hours of battery life, and quick-charge technology that gives you 3 hours of playback from just 10 minutes of charging.\",\r\r\n      image:\r\r\n        \"https://images.unsplash.com/photo-1505740420928-5e560c06d30e?q=80&w=2070&auto=format&fit=crop\",\r\r\n      color: \"bg-green-500/90\",\r\r\n    },\r\r\n    {\r\r\n      id: \"comfort\",\r\r\n      title: \"Premium Comfort\",\r\r\n      description:\r\r\n        \"Luxurious memory foam ear cushions wrapped in soft protein leather create a perfect seal while distributing pressure evenly for all-day comfort.\",\r\r\n      image:\r\r\n        \"https://images.unsplash.com/photo-1545127398-14699f92334b?q=80&w=2035&auto=format&fit=crop\",\r\r\n      color: \"bg-amber-500/90\",\r\r\n    },\r\r\n    {\r\r\n      id: \"connection\",\r\r\n      title: \"Seamless Connection\",\r\r\n      description:\r\r\n        \"Bluetooth 5.3 with multipoint connection allows you to pair with multiple devices and switch between them effortlessly.\",\r\r\n      image:\r\r\n        \"https://images.unsplash.com/photo-1606131731446-5568d87113aa?q=80&w=2064&auto=format&fit=crop\",\r\r\n      color: \"bg-rose-500/90\",\r\r\n    },\r\r\n  ];\r\r\n\r\r\n  const handleNext = () => {\r\r\n    stopAutoRotate();\r\r\n    setActiveIndex((prev) => (prev === features.length - 1 ? 0 : prev + 1));\r\r\n  };\r\r\n\r\r\n  const handlePrev = () => {\r\r\n    stopAutoRotate();\r\r\n    setActiveIndex((prev) => (prev === 0 ? features.length - 1 : prev - 1));\r\r\n  };\r\r\n\r\r\n  const handleDotClick = (index: number) => {\r\r\n    stopAutoRotate();\r\r\n    setActiveIndex(index);\r\r\n  };\r\r\n\r\r\n  const getPositionStyles = (index: number) => {\r\r\n    const totalItems = features.length;\r\r\n    const angleDegree = (2 * Math.PI) / totalItems;\r\r\n    const radius = containerRef.current\r\r\n      ? containerRef.current.offsetWidth * 0.35\r\r\n      : 250;\r\r\n\r\r\n    // Calculate where this item should be in the carousel\r\r\n    let positionIndex = (index - activeIndex + totalItems) % totalItems;\r\r\n\r\r\n    // Adjust the index to make the items flow in order\r\r\n    if (positionIndex > totalItems / 2) {\r\r\n      positionIndex = positionIndex - totalItems;\r\r\n    }\r\r\n\r\r\n    const angle = positionIndex * angleDegree;\r\r\n\r\r\n    // Calculate 3D position\r\r\n    const x = radius * Math.sin(angle);\r\r\n    const z = radius * Math.cos(angle) - radius;\r\r\n\r\r\n    // Calculate opacity based on z position\r\r\n    const opacity = ((z + radius) / (radius * 2)) * 0.8 + 0.2;\r\r\n    const scale = 0.7 + opacity * 0.3;\r\r\n    const zIndex = Math.round(opacity * 10);\r\r\n\r\r\n    // Active item is larger and fully opaque\r\r\n    if (index === activeIndex) {\r\r\n      return {\r\r\n        transform: `translateX(0) translateZ(50px) scale(1.05)`,\r\r\n        opacity: 1,\r\r\n        zIndex: 20,\r\r\n      };\r\r\n    }\r\r\n\r\r\n    return {\r\r\n      transform: `translateX(${x}px) translateZ(${z}px) scale(${scale})`,\r\r\n      opacity,\r\r\n      zIndex,\r\r\n    };\r\r\n  };\r\r\n\r\r\n  const startAutoRotate = () => {\r\r\n    setIsAutoRotating(true);\r\r\n    if (autoRotateTimerRef.current) {\r\r\n      clearInterval(autoRotateTimerRef.current);\r\r\n    }\r\r\n\r\r\n    autoRotateTimerRef.current = setInterval(() => {\r\r\n      setActiveIndex((prev) => {\r\r\n        if (direction === 1) {\r\r\n          return prev === features.length - 1 ? 0 : prev + 1;\r\r\n        } else {\r\r\n          return prev === 0 ? features.length - 1 : prev - 1;\r\r\n        }\r\r\n      });\r\r\n    }, 4000);\r\r\n  };\r\r\n\r\r\n  const stopAutoRotate = () => {\r\r\n    setIsAutoRotating(false);\r\r\n    if (autoRotateTimerRef.current) {\r\r\n      clearInterval(autoRotateTimerRef.current);\r\r\n      autoRotateTimerRef.current = null;\r\r\n    }\r\r\n  };\r\r\n\r\r\n  // Start auto rotation on mount and clean up on unmount\r\r\n  useEffect(() => {\r\r\n    startAutoRotate();\r\r\n\r\r\n    return () => {\r\r\n      if (autoRotateTimerRef.current) {\r\r\n        clearInterval(autoRotateTimerRef.current);\r\r\n      }\r\r\n    };\r\r\n  }, [direction]);\r\r\n\r\r\n  // Current active feature\r\r\n  const activeFeature = features[activeIndex];\r\r\n\r\r\n  return (\r\r\n    <section className=\"bg-background w-full overflow-hidden py-12 md:py-24 lg:py-32\">\r\r\n      <div className=\"container mx-auto px-4 md:px-6 2xl:max-w-[1400px]\">\r\r\n        <div className=\"mb-12 flex flex-col items-center space-y-4 text-center\">\r\r\n          <Badge className=\"px-3.5 py-1.5\">Premium Sound Experience</Badge>\r\r\n          <h2 className=\"text-3xl font-bold tracking-tighter sm:text-4xl md:text-5xl\">\r\r\n            Discover exceptional features\r\r\n          </h2>\r\r\n          <p className=\"text-muted-foreground mb-4 max-w-[700px] md:text-xl/relaxed\">\r\r\n            Our flagship headphones combine cutting-edge technology with premium\r\r\n            materials for an unparalleled listening experience.\r\r\n          </p>\r\r\n        </div>\r\r\n\r\r\n        {/* 3D Carousel */}\r\r\n        <div className=\"perspective-1000 relative mb-12 h-[400px] md:h-[500px]\">\r\r\n          <div\r\r\n            ref={containerRef}\r\r\n            className=\"transform-style-3d relative h-full w-full\"\r\r\n          >\r\r\n            {features.map((feature, idx) => (\r\r\n              <div\r\r\n                key={feature.id}\r\r\n                className={cn(\r\r\n                  \"transform-style-3d absolute top-0 right-0 bottom-0 left-0 mx-auto w-full max-w-[420px] overflow-hidden rounded-xl transition-all duration-700\",\r\r\n                  \"border shadow-lg\",\r\r\n                )}\r\r\n                style={getPositionStyles(idx)}\r\r\n                onClick={() => handleDotClick(idx)}\r\r\n              >\r\r\n                <div className=\"group bg-card relative h-full cursor-pointer\">\r\r\n                  <div className=\"absolute inset-0 z-10 bg-gradient-to-t from-black/80 via-black/40 to-transparent\" />\r\r\n\r\r\n                  <Image\r\r\n                    src={feature.image}\r\r\n                    alt={feature.title}\r\r\n                    fill\r\r\n                    className=\"object-cover transition-transform group-hover:scale-105\"\r\r\n                  />\r\r\n\r\r\n                  <div className=\"absolute right-0 bottom-0 left-0 z-20 p-6 text-left\">\r\r\n                    <div\r\r\n                      className={cn(\r\r\n                        \"mb-2 inline-block rounded-full px-2.5 py-0.5 text-xs font-medium text-white\",\r\r\n                        feature.color,\r\r\n                      )}\r\r\n                    >\r\r\n                      Feature {idx + 1} of {features.length}\r\r\n                    </div>\r\r\n                    <h3 className=\"mb-1 text-xl font-bold text-white\">\r\r\n                      {feature.title}\r\r\n                    </h3>\r\r\n                    <p className=\"line-clamp-2 text-sm text-white/90\">\r\r\n                      {feature.description}\r\r\n                    </p>\r\r\n                  </div>\r\r\n                </div>\r\r\n              </div>\r\r\n            ))}\r\r\n          </div>\r\r\n\r\r\n          {/* Navigation arrows */}\r\r\n          <div className=\"absolute top-1/2 left-4 z-20 -translate-y-1/2\">\r\r\n            <Button\r\r\n              variant=\"outline\"\r\r\n              size=\"icon\"\r\r\n              className=\"bg-background/80 rounded-full backdrop-blur-sm\"\r\r\n              onClick={handlePrev}\r\r\n            >\r\r\n              <ArrowLeft className=\"h-5 w-5\" />\r\r\n            </Button>\r\r\n          </div>\r\r\n\r\r\n          <div className=\"absolute top-1/2 right-4 z-20 -translate-y-1/2\">\r\r\n            <Button\r\r\n              variant=\"outline\"\r\r\n              size=\"icon\"\r\r\n              className=\"bg-background/80 rounded-full backdrop-blur-sm\"\r\r\n              onClick={handleNext}\r\r\n            >\r\r\n              <ArrowRight className=\"h-5 w-5\" />\r\r\n            </Button>\r\r\n          </div>\r\r\n\r\r\n          {/* Dots indicator */}\r\r\n          <div className=\"absolute bottom-[-30px] left-1/2 z-20 flex -translate-x-1/2 space-x-2\">\r\r\n            {features.map((_, idx) => (\r\r\n              <button\r\r\n                key={idx}\r\r\n                className={cn(\r\r\n                  \"h-2.5 w-2.5 rounded-full transition-all\",\r\r\n                  activeIndex === idx\r\r\n                    ? \"bg-primary w-6\"\r\r\n                    : \"bg-muted-foreground/20 hover:bg-primary/50\",\r\r\n                )}\r\r\n                onClick={() => handleDotClick(idx)}\r\r\n              />\r\r\n            ))}\r\r\n          </div>\r\r\n        </div>\r\r\n\r\r\n        {/* Feature details */}\r\r\n        <div className=\"mx-auto max-w-3xl\">\r\r\n          <div className=\"bg-muted/40 grid items-start gap-6 overflow-hidden rounded-xl border md:grid-cols-5\">\r\r\n            <div className=\"p-6 md:col-span-3\">\r\r\n              <h3 className=\"text-2xl font-bold\">{activeFeature.title}</h3>\r\r\n              <p className=\"text-muted-foreground mt-2\">\r\r\n                {activeFeature.description}\r\r\n              </p>\r\r\n\r\r\n              <ul className=\"mt-6 space-y-3\">\r\r\n                <li className=\"flex items-start gap-2\">\r\r\n                  <ChevronRight className=\"text-primary mt-0.5 h-5 w-5 shrink-0\" />\r\r\n                  <span>\r\r\n                    Adaptive technology adjusts to your environment in real-time\r\r\n                  </span>\r\r\n                </li>\r\r\n                <li className=\"flex items-start gap-2\">\r\r\n                  <ChevronRight className=\"text-primary mt-0.5 h-5 w-5 shrink-0\" />\r\r\n                  <span>\r\r\n                    Customizable via the companion app for your perfect sound\r\r\n                    profile\r\r\n                  </span>\r\r\n                </li>\r\r\n                <li className=\"flex items-start gap-2\">\r\r\n                  <ChevronRight className=\"text-primary mt-0.5 h-5 w-5 shrink-0\" />\r\r\n                  <span>\r\r\n                    Premium materials ensure durability and lasting comfort\r\r\n                  </span>\r\r\n                </li>\r\r\n              </ul>\r\r\n\r\r\n              <div className=\"mt-8 flex flex-col gap-3 sm:flex-row\">\r\r\n                <Button asChild>\r\r\n                  <Link href=\"#\">\r\r\n                    Learn more\r\r\n                    <ArrowRight className=\"ml-2 h-4 w-4\" />\r\r\n                  </Link>\r\r\n                </Button>\r\r\n                <Button variant=\"secondary\">See all features</Button>\r\r\n              </div>\r\r\n            </div>\r\r\n\r\r\n            <div\r\r\n              className={cn(\r\r\n                \"hidden items-center justify-center px-6 py-12 text-white md:col-span-2 md:flex\",\r\r\n                activeFeature.color,\r\r\n              )}\r\r\n            >\r\r\n              <div className=\"text-center\">\r\r\n                <div className=\"mb-2 text-4xl font-bold\">\r\r\n                  {activeIndex === 0 && \"40dB\"}\r\r\n                  {activeIndex === 1 && \"360Â°\"}\r\r\n                  {activeIndex === 2 && \"30h\"}\r\r\n                  {activeIndex === 3 && \"320g\"}\r\r\n                  {activeIndex === 4 && \"5.3\"}\r\r\n                </div>\r\r\n                <div className=\"text-sm text-white/80\">\r\r\n                  {activeIndex === 0 && \"Noise Reduction\"}\r\r\n                  {activeIndex === 1 && \"Sound Field\"}\r\r\n                  {activeIndex === 2 && \"Playback Time\"}\r\r\n                  {activeIndex === 3 && \"Ultra Lightweight\"}\r\r\n                  {activeIndex === 4 && \"Bluetooth Version\"}\r\r\n                </div>\r\r\n              </div>\r\r\n            </div>\r\r\n          </div>\r\r\n        </div>\r\r\n\r\r\n        {/* CTA section */}\r\r\n        <div className=\"mt-20 text-center\">\r\r\n          <h3 className=\"mb-4 text-2xl font-bold\">\r\r\n            Experience premium sound today\r\r\n          </h3>\r\r\n          <p className=\"text-muted-foreground mx-auto mb-8 max-w-xl\">\r\r\n            Join thousands of satisfied customers who have elevated their\r\r\n            listening experience with our flagship headphones.\r\r\n          </p>\r\r\n\r\r\n          <div className=\"flex flex-col justify-center gap-4 sm:flex-row\">\r\r\n            <Button size=\"lg\" asChild>\r\r\n              <Link href=\"#\">\r\r\n                Shop now\r\r\n                <ArrowRight className=\"ml-2 h-4 w-4\" />\r\r\n              </Link>\r\r\n            </Button>\r\r\n            <Button size=\"lg\" variant=\"outline\" asChild>\r\r\n              <Link href=\"#\">Compare models</Link>\r\r\n            </Button>\r\r\n          </div>\r\r\n        </div>\r\r\n      </div>\r\r\n    </section>\r\r\n  );\r\r\n}\r\r\n",
      "type": "registry:block"
    }
  ],
  "meta": {
    "tags": [
      "product-features"
    ]
  }
}