{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "stats-sparkline-stats",
  "type": "registry:block",
  "registryDependencies": [
    "https://ui.woilasoft.com/r/badge.json",
    "https://ui.woilasoft.com/r/card.json",
    "https://ui.woilasoft.com/r/select.json"
  ],
  "files": [
    {
      "path": "registry/default/blocks/stats-sparkline-stats.tsx",
      "content": "\"use client\";\r\r\n\r\r\nimport { Badge } from \"@/registry/default/ui/badge\";\r\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/registry/default/ui/card\";\r\r\nimport {\r\r\n  Select,\r\r\n  SelectContent,\r\r\n  SelectItem,\r\r\n  SelectTrigger,\r\r\n  SelectValue,\r\r\n} from \"@/registry/default/ui/select\";\r\r\nimport { cn } from \"@/lib/utils\";\r\r\nimport { useState } from \"react\";\r\r\n\r\r\ntype TimeRange = \"daily\" | \"weekly\" | \"monthly\" | \"quarterly\";\r\r\n\r\r\ntype SparklineData = {\r\r\n  id: string;\r\r\n  name: string;\r\r\n  value: string;\r\r\n  secondaryValue: string;\r\r\n  change: number;\r\r\n  trend: \"up\" | \"down\" | \"neutral\";\r\r\n  sparklineData: number[];\r\r\n};\r\r\n\r\r\ntype SparklineStats = {\r\r\n  [key in TimeRange]: SparklineData[];\r\r\n};\r\r\n\r\r\nexport default function SparklineStats() {\r\r\n  const [timeRange, setTimeRange] = useState<TimeRange>(\"monthly\");\r\r\n\r\r\n  // Sample data for different time ranges\r\r\n  const stats: SparklineStats = {\r\r\n    daily: [\r\r\n      {\r\r\n        id: \"visitors\",\r\r\n        name: \"Unique Visitors\",\r\r\n        value: \"8,492\",\r\r\n        secondaryValue: \"+1,204\",\r\r\n        change: 16.5,\r\r\n        trend: \"up\",\r\r\n        sparklineData: [32, 38, 28, 43, 36, 42, 39, 37, 41, 38, 42, 48, 52, 47],\r\r\n      },\r\r\n      {\r\r\n        id: \"page-views\",\r\r\n        name: \"Page Views\",\r\r\n        value: \"32,591\",\r\r\n        secondaryValue: \"+4,882\",\r\r\n        change: 17.6,\r\r\n        trend: \"up\",\r\r\n        sparklineData: [\r\r\n          142, 128, 132, 156, 148, 163, 157, 152, 166, 171, 168, 182, 190, 196,\r\r\n        ],\r\r\n      },\r\r\n      {\r\r\n        id: \"bounce-rate\",\r\r\n        name: \"Bounce Rate\",\r\r\n        value: \"36.4%\",\r\r\n        secondaryValue: \"-2.3%\",\r\r\n        change: -5.9,\r\r\n        trend: \"down\",\r\r\n        sparklineData: [42, 40, 41, 39, 38, 40, 37, 36, 35, 38, 37, 34, 36, 35],\r\r\n      },\r\r\n      {\r\r\n        id: \"orders\",\r\r\n        name: \"Orders\",\r\r\n        value: \"284\",\r\r\n        secondaryValue: \"+42\",\r\r\n        change: 17.4,\r\r\n        trend: \"up\",\r\r\n        sparklineData: [18, 22, 19, 24, 21, 20, 25, 18, 24, 22, 26, 28, 27, 32],\r\r\n      },\r\r\n    ],\r\r\n    weekly: [\r\r\n      {\r\r\n        id: \"visitors\",\r\r\n        name: \"Unique Visitors\",\r\r\n        value: \"52,846\",\r\r\n        secondaryValue: \"+8,294\",\r\r\n        change: 18.6,\r\r\n        trend: \"up\",\r\r\n        sparklineData: [321, 384, 428, 461, 423, 462, 478, 512],\r\r\n      },\r\r\n      {\r\r\n        id: \"page-views\",\r\r\n        name: \"Page Views\",\r\r\n        value: \"198,432\",\r\r\n        secondaryValue: \"+24,781\",\r\r\n        change: 14.3,\r\r\n        trend: \"up\",\r\r\n        sparklineData: [1428, 1562, 1679, 1781, 1823, 1942, 2018, 2156],\r\r\n      },\r\r\n      {\r\r\n        id: \"bounce-rate\",\r\r\n        name: \"Bounce Rate\",\r\r\n        value: \"38.2%\",\r\r\n        secondaryValue: \"-1.7%\",\r\r\n        change: -4.3,\r\r\n        trend: \"down\",\r\r\n        sparklineData: [42, 41, 40, 39, 38, 37, 37, 36],\r\r\n      },\r\r\n      {\r\r\n        id: \"orders\",\r\r\n        name: \"Orders\",\r\r\n        value: \"1,784\",\r\r\n        secondaryValue: \"+286\",\r\r\n        change: 19.1,\r\r\n        trend: \"up\",\r\r\n        sparklineData: [176, 186, 204, 211, 234, 242, 262, 281],\r\r\n      },\r\r\n    ],\r\r\n    monthly: [\r\r\n      {\r\r\n        id: \"visitors\",\r\r\n        name: \"Unique Visitors\",\r\r\n        value: \"214,283\",\r\r\n        secondaryValue: \"+32,941\",\r\r\n        change: 18.2,\r\r\n        trend: \"up\",\r\r\n        sparklineData: [\r\r\n          14283, 16421, 18642, 19846, 21256, 23841, 25174, 27428, 29152, 30841,\r\r\n          32145, 35462,\r\r\n        ],\r\r\n      },\r\r\n      {\r\r\n        id: \"page-views\",\r\r\n        name: \"Page Views\",\r\r\n        value: \"842,156\",\r\r\n        secondaryValue: \"+72,184\",\r\r\n        change: 9.4,\r\r\n        trend: \"up\",\r\r\n        sparklineData: [\r\r\n          64215, 68420, 70156, 72841, 75621, 79421, 82156, 85214, 87951, 89214,\r\r\n          92451, 96214,\r\r\n        ],\r\r\n      },\r\r\n      {\r\r\n        id: \"bounce-rate\",\r\r\n        name: \"Bounce Rate\",\r\r\n        value: \"41.2%\",\r\r\n        secondaryValue: \"-3.8%\",\r\r\n        change: -8.4,\r\r\n        trend: \"down\",\r\r\n        sparklineData: [48, 47, 46, 46, 45, 44, 44, 43, 42, 42, 41, 40],\r\r\n      },\r\r\n      {\r\r\n        id: \"orders\",\r\r\n        name: \"Orders\",\r\r\n        value: \"7,842\",\r\r\n        secondaryValue: \"+1,241\",\r\r\n        change: 18.8,\r\r\n        trend: \"up\",\r\r\n        sparklineData: [\r\r\n          524, 584, 612, 645, 687, 721, 764, 802, 852, 894, 932, 984,\r\r\n        ],\r\r\n      },\r\r\n    ],\r\r\n    quarterly: [\r\r\n      {\r\r\n        id: \"visitors\",\r\r\n        name: \"Unique Visitors\",\r\r\n        value: \"643,294\",\r\r\n        secondaryValue: \"+89,214\",\r\r\n        change: 16.1,\r\r\n        trend: \"up\",\r\r\n        sparklineData: [154283, 182846, 214283, 246512],\r\r\n      },\r\r\n      {\r\r\n        id: \"page-views\",\r\r\n        name: \"Page Views\",\r\r\n        value: \"2,471,582\",\r\r\n        secondaryValue: \"+210,452\",\r\r\n        change: 9.3,\r\r\n        trend: \"up\",\r\r\n        sparklineData: [582416, 624185, 742156, 824582],\r\r\n      },\r\r\n      {\r\r\n        id: \"bounce-rate\",\r\r\n        name: \"Bounce Rate\",\r\r\n        value: \"43.7%\",\r\r\n        secondaryValue: \"-5.2%\",\r\r\n        change: -10.6,\r\r\n        trend: \"down\",\r\r\n        sparklineData: [52, 49, 47, 44],\r\r\n      },\r\r\n      {\r\r\n        id: \"orders\",\r\r\n        name: \"Orders\",\r\r\n        value: \"23,485\",\r\r\n        secondaryValue: \"+3,624\",\r\r\n        change: 18.2,\r\r\n        trend: \"up\",\r\r\n        sparklineData: [4856, 5742, 6254, 7412],\r\r\n      },\r\r\n    ],\r\r\n  };\r\r\n\r\r\n  // Function to normalize sparkline data for rendering\r\r\n  const normalizeSparklineData = (data: number[]) => {\r\r\n    const min = Math.min(...data);\r\r\n    const max = Math.max(...data);\r\r\n    const range = max - min;\r\r\n\r\r\n    if (range === 0) return data.map(() => 50); // Handle flat data\r\r\n\r\r\n    // Normalize to 0-100 range for SVG path\r\r\n    return data.map((value) => Math.round(((value - min) / range) * 100));\r\r\n  };\r\r\n\r\r\n  // Create SVG path for sparkline\r\r\n  const createSparklinePath = (data: number[]) => {\r\r\n    if (data.length < 2) return \"\";\r\r\n\r\r\n    const normalizedData = normalizeSparklineData(data);\r\r\n    const height = 40; // SVG height\r\r\n    const width = 120; // SVG width\r\r\n    const points = normalizedData.map((value, index) => {\r\r\n      const x = (index / (normalizedData.length - 1)) * width;\r\r\n      const y = height - (value / 100) * height;\r\r\n      return `${x},${y}`;\r\r\n    });\r\r\n\r\r\n    // Start from the bottom left for fill effect\r\r\n    return `M0,${height} ${points\r\r\n      .map((point) => `L${point}`)\r\r\n      .join(\" \")} L${width},${height} Z`;\r\r\n  };\r\r\n\r\r\n  // Get appropriate color for trend\r\r\n  const getTrendColor = (\r\r\n    trend: \"up\" | \"down\" | \"neutral\",\r\r\n    negative: boolean = false,\r\r\n  ) => {\r\r\n    if (trend === \"up\") {\r\r\n      return negative\r\r\n        ? \"text-rose-500 fill-rose-100 dark:fill-rose-950\"\r\r\n        : \"text-emerald-500 fill-emerald-100 dark:fill-emerald-950\";\r\r\n    } else if (trend === \"down\") {\r\r\n      return negative\r\r\n        ? \"text-emerald-500 fill-emerald-100 dark:fill-emerald-950\"\r\r\n        : \"text-rose-500 fill-rose-100 dark:fill-rose-950\";\r\r\n    }\r\r\n    return \"text-gray-500 fill-gray-100 dark:fill-gray-900\";\r\r\n  };\r\r\n\r\r\n  // Bounce rate is inverted (down is good)\r\r\n  const isInverseMetric = (id: string) => {\r\r\n    return [\"bounce-rate\"].includes(id);\r\r\n  };\r\r\n\r\r\n  return (\r\r\n    <div className=\"container mx-auto px-4 py-24 md:px-6 lg:py-32 2xl:max-w-[1400px]\">\r\r\n      <div className=\"mx-auto max-w-6xl\">\r\r\n        <div className=\"mb-12 text-center\">\r\r\n          <Badge className=\"mb-2\">Analytics</Badge>\r\r\n          <h2 className=\"text-3xl font-bold md:text-4xl\">Performance Trends</h2>\r\r\n          <p className=\"text-muted-foreground mx-auto mt-3 max-w-2xl\">\r\r\n            Track how our key metrics are trending over time\r\r\n          </p>\r\r\n        </div>\r\r\n\r\r\n        {/* Time Range Selector - Tabs for md+ screens */}\r\r\n        <div className=\"mb-10 flex justify-center\">\r\r\n          {/* Tabs for md+ screens */}\r\r\n          <div className=\"bg-card hidden overflow-hidden rounded-lg border p-1 md:inline-flex\">\r\r\n            {([\"daily\", \"weekly\", \"monthly\", \"quarterly\"] as TimeRange[]).map(\r\r\n              (range) => (\r\r\n                <button\r\r\n                  key={range}\r\r\n                  onClick={() => setTimeRange(range)}\r\r\n                  className={cn(\r\r\n                    \"rounded-md px-4 py-2 text-sm font-medium transition-colors\",\r\r\n                    timeRange === range\r\r\n                      ? \"bg-primary text-primary-foreground\"\r\r\n                      : \"text-muted-foreground hover:bg-muted\",\r\r\n                  )}\r\r\n                >\r\r\n                  {range.charAt(0).toUpperCase() + range.slice(1)}\r\r\n                </button>\r\r\n              ),\r\r\n            )}\r\r\n          </div>\r\r\n\r\r\n          {/* Dropdown for small screens */}\r\r\n          <div className=\"w-full max-w-xs md:hidden\">\r\r\n            <Select\r\r\n              value={timeRange}\r\r\n              onValueChange={(value) => setTimeRange(value as TimeRange)}\r\r\n            >\r\r\n              <SelectTrigger>\r\r\n                <SelectValue placeholder=\"Select time range\">\r\r\n                  {timeRange.charAt(0).toUpperCase() + timeRange.slice(1)}\r\r\n                </SelectValue>\r\r\n              </SelectTrigger>\r\r\n              <SelectContent>\r\r\n                {(\r\r\n                  [\"daily\", \"weekly\", \"monthly\", \"quarterly\"] as TimeRange[]\r\r\n                ).map((range) => (\r\r\n                  <SelectItem key={range} value={range}>\r\r\n                    {range.charAt(0).toUpperCase() + range.slice(1)}\r\r\n                  </SelectItem>\r\r\n                ))}\r\r\n              </SelectContent>\r\r\n            </Select>\r\r\n          </div>\r\r\n        </div>\r\r\n\r\r\n        {/* Sparkline Cards */}\r\r\n        <div className=\"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4\">\r\r\n          {stats[timeRange].map((stat) => {\r\r\n            const inverse = isInverseMetric(stat.id);\r\r\n            return (\r\r\n              <Card key={stat.id} className=\"overflow-hidden\">\r\r\n                <CardHeader className=\"pb-2\">\r\r\n                  <CardTitle className=\"text-base font-medium\">\r\r\n                    {stat.name}\r\r\n                  </CardTitle>\r\r\n                </CardHeader>\r\r\n                <CardContent>\r\r\n                  <div className=\"mb-1 flex items-baseline justify-between\">\r\r\n                    <div className=\"text-2xl font-bold\">{stat.value}</div>\r\r\n                    <div\r\r\n                      className={cn(\r\r\n                        \"text-sm font-medium\",\r\r\n                        getTrendColor(stat.trend, inverse),\r\r\n                      )}\r\r\n                    >\r\r\n                      {stat.secondaryValue}\r\r\n                    </div>\r\r\n                  </div>\r\r\n\r\r\n                  <div className=\"text-muted-foreground mb-4 text-xs\">\r\r\n                    <span className={cn(getTrendColor(stat.trend, inverse))}>\r\r\n                      {stat.trend === \"up\" ? \"↑\" : \"↓\"} {Math.abs(stat.change)}%\r\r\n                    </span>\r\r\n                    {\" vs \"}\r\r\n                    {timeRange === \"daily\" && \"yesterday\"}\r\r\n                    {timeRange === \"weekly\" && \"last week\"}\r\r\n                    {timeRange === \"monthly\" && \"last month\"}\r\r\n                    {timeRange === \"quarterly\" && \"last quarter\"}\r\r\n                  </div>\r\r\n\r\r\n                  {/* Sparkline */}\r\r\n                  <div className=\"h-10 w-full\">\r\r\n                    <svg\r\r\n                      width=\"100%\"\r\r\n                      height=\"40\"\r\r\n                      viewBox=\"0 0 120 40\"\r\r\n                      preserveAspectRatio=\"none\"\r\r\n                      className=\"overflow-visible\"\r\r\n                    >\r\r\n                      <path\r\r\n                        d={createSparklinePath(stat.sparklineData)}\r\r\n                        className={cn(\r\r\n                          \"fill-current stroke-current stroke-2 opacity-10\",\r\r\n                          getTrendColor(stat.trend, inverse),\r\r\n                        )}\r\r\n                      />\r\r\n                      <path\r\r\n                        d={\r\r\n                          createSparklinePath(stat.sparklineData).split(\" Z\")[0]\r\r\n                        }\r\r\n                        className={cn(\r\r\n                          \"fill-none stroke-current stroke-2\",\r\r\n                          getTrendColor(stat.trend, inverse),\r\r\n                        )}\r\r\n                      />\r\r\n                    </svg>\r\r\n                  </div>\r\r\n                </CardContent>\r\r\n              </Card>\r\r\n            );\r\r\n          })}\r\r\n        </div>\r\r\n      </div>\r\r\n    </div>\r\r\n  );\r\r\n}\r\r\n",
      "type": "registry:block"
    }
  ],
  "meta": {
    "tags": [
      "stats"
    ]
  }
}