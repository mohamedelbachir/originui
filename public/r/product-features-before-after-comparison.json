{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "product-features-before-after-comparison",
  "type": "registry:block",
  "registryDependencies": [
    "https://ui.woilasoft.com/r/badge.json",
    "https://ui.woilasoft.com/r/button.json"
  ],
  "files": [
    {
      "path": "registry/default/blocks/product-features-before-after-comparison.tsx",
      "content": "\"use client\";\r\r\n\r\r\nimport { useState, useRef, MouseEvent, TouchEvent } from \"react\";\r\r\nimport Image from \"next/image\";\r\r\nimport Link from \"next/link\";\r\r\nimport { ArrowLeft, ArrowRight, ChevronLeft, ChevronRight } from \"lucide-react\";\r\r\nimport { Badge } from \"@/registry/default/ui/badge\";\r\r\nimport { Button } from \"@/registry/default/ui/button\";\r\r\nimport { cn } from \"@/lib/utils\";\r\r\n\r\r\ninterface ComparisonFeature {\r\r\n  id: string;\r\r\n  title: string;\r\r\n  beforeImage: string;\r\r\n  afterImage: string;\r\r\n  beforeLabel: string;\r\r\n  afterLabel: string;\r\r\n  description: string;\r\r\n  improvements: string[];\r\r\n}\r\r\n\r\r\nexport default function BeforeAfterComparison() {\r\r\n  const [activeFeature, setActiveFeature] = useState(0);\r\r\n  const [sliderPosition, setSliderPosition] = useState(50);\r\r\n  const sliderRef = useRef<HTMLDivElement>(null);\r\r\n  const isDragging = useRef(false);\r\r\n\r\r\n  const features: ComparisonFeature[] = [\r\r\n    {\r\r\n      id: \"camera\",\r\r\n      title: \"Enhanced Camera System\",\r\r\n      beforeImage:\r\r\n        \"https://images.unsplash.com/photo-1564466809058-bf4114d55352?q=80&w=2069&auto=format&fit=crop\",\r\r\n      afterImage:\r\r\n        \"https://images.unsplash.com/photo-1584006682522-dc17d6c0d9ac?q=80&w=2073&auto=format&fit=crop\",\r\r\n      beforeLabel: \"Previous Model\",\r\r\n      afterLabel: \"New Model\",\r\r\n      description:\r\r\n        \"Experience a revolutionary leap in photography with our enhanced camera system, featuring improved low-light performance, higher resolution sensors, and advanced computational photography.\",\r\r\n      improvements: [\r\r\n        \"50% larger sensor captures more light for stunning low-light photos\",\r\r\n        \"Improved optical stabilization reduces blur in action shots\",\r\r\n        \"Enhanced portrait mode with depth mapping for professional-looking results\",\r\r\n        \"Computational photography algorithms produce better colors and details\",\r\r\n      ],\r\r\n    },\r\r\n    {\r\r\n      id: \"design\",\r\r\n      title: \"Refined Design & Materials\",\r\r\n      beforeImage:\r\r\n        \"https://images.unsplash.com/photo-1517420704952-d9f39e95b43e?q=80&w=2070&auto=format&fit=crop\",\r\r\n      afterImage:\r\r\n        \"https://images.unsplash.com/photo-1611472173362-3f53dbd65d80?q=80&w=2068&auto=format&fit=crop\",\r\r\n      beforeLabel: \"Classic Design\",\r\r\n      afterLabel: \"Modern Design\",\r\r\n      description:\r\r\n        \"We've completely reimagined our product's form factor with premium materials, improved ergonomics, and a sleeker profile that feels better in your hand while maintaining durability.\",\r\r\n      improvements: [\r\r\n        \"Aerospace-grade aluminum provides strength without added weight\",\r\r\n        \"Improved ergonomic grip for extended comfortable use\",\r\r\n        \"30% thinner profile without compromising battery life\",\r\r\n        \"New matte finish resists fingerprints and scratches\",\r\r\n      ],\r\r\n    },\r\r\n    {\r\r\n      id: \"display\",\r\r\n      title: \"Revolutionary Display Technology\",\r\r\n      beforeImage:\r\r\n        \"https://images.unsplash.com/photo-1506744038136-46273834b3fb?q=10&w=1000&auto=format&fit=crop&blur=10\",\r\r\n      afterImage:\r\r\n        \"https://images.unsplash.com/photo-1506744038136-46273834b3fb?q=80&w=2000&auto=format&fit=crop\",\r\r\n      beforeLabel: \"Standard Display\",\r\r\n      afterLabel: \"ProMotion XDR\",\r\r\n      description:\r\r\n        \"Our new ProMotion XDR display delivers breathtaking color accuracy, incredible brightness, and smoother motion with adaptive refresh rate technology for an immersive viewing experience.\",\r\r\n      improvements: [\r\r\n        \"120Hz adaptive refresh rate for smoother scrolling and gameplay\",\r\r\n        \"1000 nits of brightness for easy viewing in direct sunlight\",\r\r\n        \"P3 wide color gamut with 10-bit color depth for true-to-life images\",\r\r\n        \"Reduced blue light emission for comfortable extended viewing\",\r\r\n      ],\r\r\n    },\r\r\n  ];\r\r\n\r\r\n  const handleSliderChange = (clientX: number) => {\r\r\n    if (!sliderRef.current) return;\r\r\n\r\r\n    const rect = sliderRef.current.getBoundingClientRect();\r\r\n    const position = ((clientX - rect.left) / rect.width) * 100;\r\r\n\r\r\n    // Constrain between 0 and 100\r\r\n    setSliderPosition(Math.max(0, Math.min(100, position)));\r\r\n  };\r\r\n\r\r\n  const handleMouseDown = (e: MouseEvent) => {\r\r\n    isDragging.current = true;\r\r\n    handleSliderChange(e.clientX);\r\r\n  };\r\r\n\r\r\n  const handleMouseMove = (e: MouseEvent) => {\r\r\n    if (isDragging.current) {\r\r\n      handleSliderChange(e.clientX);\r\r\n    }\r\r\n  };\r\r\n\r\r\n  const handleMouseUp = () => {\r\r\n    isDragging.current = false;\r\r\n  };\r\r\n\r\r\n  const handleTouchStart = (e: TouchEvent) => {\r\r\n    isDragging.current = true;\r\r\n    handleSliderChange(e.touches[0].clientX);\r\r\n  };\r\r\n\r\r\n  const handleTouchMove = (e: TouchEvent) => {\r\r\n    if (isDragging.current) {\r\r\n      handleSliderChange(e.touches[0].clientX);\r\r\n    }\r\r\n  };\r\r\n\r\r\n  const handleTouchEnd = () => {\r\r\n    isDragging.current = false;\r\r\n  };\r\r\n\r\r\n  const nextFeature = () => {\r\r\n    setActiveFeature((prev) => (prev === features.length - 1 ? 0 : prev + 1));\r\r\n    setSliderPosition(50); // Reset slider position\r\r\n  };\r\r\n\r\r\n  const prevFeature = () => {\r\r\n    setActiveFeature((prev) => (prev === 0 ? features.length - 1 : prev - 1));\r\r\n    setSliderPosition(50); // Reset slider position\r\r\n  };\r\r\n\r\r\n  const currentFeature = features[activeFeature];\r\r\n\r\r\n  return (\r\r\n    <section className=\"w-full py-12 md:py-24 lg:py-32 bg-background\">\r\r\n      <div className=\"container mx-auto px-4 md:px-6 2xl:max-w-[1400px]\">\r\r\n        <div className=\"flex flex-col items-center text-center space-y-4 mb-8 md:mb-12\">\r\r\n          <Badge className=\"px-3.5 py-1.5\">Next Generation</Badge>\r\r\n          <h2 className=\"text-3xl font-bold tracking-tighter sm:text-4xl md:text-5xl\">\r\r\n            See the difference innovation makes\r\r\n          </h2>\r\r\n          <p className=\"text-muted-foreground md:text-xl/relaxed lg:text-base/relaxed xl:text-xl/relaxed max-w-[600px]\">\r\r\n            Compare our latest advancements with previous generations to\r\r\n            experience the remarkable evolution of our products.\r\r\n          </p>\r\r\n        </div>\r\r\n\r\r\n        <div className=\"grid lg:grid-cols-5 gap-8 lg:gap-12 items-start\">\r\r\n          {/* Feature Navigation */}\r\r\n          <div className=\"lg:col-span-1 flex flex-col space-y-4 mb-6 lg:mb-0\">\r\r\n            <h3 className=\"text-lg font-medium mb-4\">Innovation Highlights</h3>\r\r\n\r\r\n            {features.map((feature, idx) => (\r\r\n              <button\r\r\n                key={feature.id}\r\r\n                onClick={() => {\r\r\n                  setActiveFeature(idx);\r\r\n                  setSliderPosition(50);\r\r\n                }}\r\r\n                className={cn(\r\r\n                  \"text-left px-4 py-3 rounded-lg border transition-colors\",\r\r\n                  activeFeature === idx\r\r\n                    ? \"border-primary bg-primary/5 text-primary\"\r\r\n                    : \"border-border hover:border-primary/50 hover:bg-muted\"\r\r\n                )}\r\r\n              >\r\r\n                <div className=\"font-medium\">{feature.title}</div>\r\r\n                <div className=\"text-sm text-muted-foreground mt-1 line-clamp-2\">\r\r\n                  {feature.description.substring(0, 80)}...\r\r\n                </div>\r\r\n              </button>\r\r\n            ))}\r\r\n\r\r\n            <div className=\"flex space-x-3 lg:hidden mt-4\">\r\r\n              <Button variant=\"outline\" size=\"icon\" onClick={prevFeature}>\r\r\n                <ChevronLeft className=\"h-4 w-4\" />\r\r\n              </Button>\r\r\n              <Button variant=\"outline\" size=\"icon\" onClick={nextFeature}>\r\r\n                <ChevronRight className=\"h-4 w-4\" />\r\r\n              </Button>\r\r\n            </div>\r\r\n          </div>\r\r\n\r\r\n          {/* Comparison Slider */}\r\r\n          <div className=\"lg:col-span-4 space-y-8\">\r\r\n            <div\r\r\n              ref={sliderRef}\r\r\n              className=\"relative w-full rounded-lg overflow-hidden border h-[400px] select-none\"\r\r\n              onMouseDown={handleMouseDown}\r\r\n              onMouseMove={handleMouseMove}\r\r\n              onMouseUp={handleMouseUp}\r\r\n              onMouseLeave={handleMouseUp}\r\r\n              onTouchStart={handleTouchStart}\r\r\n              onTouchMove={handleTouchMove}\r\r\n              onTouchEnd={handleTouchEnd}\r\r\n            >\r\r\n              {/* Before Image (full width) */}\r\r\n              <div className=\"absolute inset-0 w-full h-full\">\r\r\n                <Image\r\r\n                  src={currentFeature.beforeImage}\r\r\n                  alt={`Before: ${currentFeature.title}`}\r\r\n                  fill\r\r\n                  className=\"object-cover\"\r\r\n                  sizes=\"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 800px\"\r\r\n                  priority\r\r\n                />\r\r\n                <div className=\"absolute bottom-4 left-4 bg-background/80 backdrop-blur-sm text-foreground px-3 py-1 rounded-md text-sm font-medium\">\r\r\n                  {currentFeature.beforeLabel}\r\r\n                </div>\r\r\n              </div>\r\r\n\r\r\n              {/* After Image (partial width based on slider) */}\r\r\n              <div\r\r\n                className=\"absolute inset-0 h-full overflow-hidden\"\r\r\n                style={{ width: `${sliderPosition}%` }}\r\r\n              >\r\r\n                <Image\r\r\n                  src={currentFeature.afterImage}\r\r\n                  alt={`After: ${currentFeature.title}`}\r\r\n                  fill\r\r\n                  className=\"object-cover\"\r\r\n                  sizes=\"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 800px\"\r\r\n                />\r\r\n                <div className=\"absolute bottom-4 right-4 bg-primary text-primary-foreground px-3 py-1 rounded-md text-sm font-medium\">\r\r\n                  {currentFeature.afterLabel}\r\r\n                </div>\r\r\n              </div>\r\r\n\r\r\n              {/* Slider Handle */}\r\r\n              <div\r\r\n                className=\"absolute top-0 bottom-0 w-1 bg-white cursor-ew-resize\"\r\r\n                style={{ left: `${sliderPosition}%`, marginLeft: \"-0.5px\" }}\r\r\n              >\r\r\n                <div className=\"absolute top-1/2 -translate-y-1/2 -translate-x-1/2 h-10 w-10 rounded-full bg-white shadow-lg flex items-center justify-center\">\r\r\n                  <div className=\"h-6 w-6 rounded-full bg-primary flex items-center justify-center\">\r\r\n                    <div className=\"flex items-center space-x-0.5\">\r\r\n                      <ArrowLeft className=\"h-3 w-3 text-primary-foreground\" />\r\r\n                      <ArrowRight className=\"h-3 w-3 text-primary-foreground\" />\r\r\n                    </div>\r\r\n                  </div>\r\r\n                </div>\r\r\n              </div>\r\r\n            </div>\r\r\n\r\r\n            {/* Feature Description */}\r\r\n            <div className=\"bg-muted/50 rounded-lg p-6 border\">\r\r\n              <h3 className=\"text-2xl font-bold mb-4\">\r\r\n                {currentFeature.title}\r\r\n              </h3>\r\r\n              <p className=\"text-muted-foreground mb-6\">\r\r\n                {currentFeature.description}\r\r\n              </p>\r\r\n\r\r\n              <h4 className=\"font-semibold mb-3 text-sm uppercase tracking-wide\">\r\r\n                Key Improvements\r\r\n              </h4>\r\r\n              <ul className=\"space-y-2\">\r\r\n                {currentFeature.improvements.map((improvement, idx) => (\r\r\n                  <li key={idx} className=\"flex items-start gap-2\">\r\r\n                    <div className=\"h-5 w-5 mt-0.5 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0\">\r\r\n                      <div className=\"h-2 w-2 rounded-full bg-primary\" />\r\r\n                    </div>\r\r\n                    <span>{improvement}</span>\r\r\n                  </li>\r\r\n                ))}\r\r\n              </ul>\r\r\n\r\r\n              <div className=\"mt-8 pt-4 border-t flex flex-col sm:flex-row gap-4\">\r\r\n                <Button size=\"lg\" asChild>\r\r\n                  <Link href=\"#\">\r\r\n                    Shop new model\r\r\n                    <ArrowRight className=\"ml-2 h-4 w-4\" />\r\r\n                  </Link>\r\r\n                </Button>\r\r\n                <Button size=\"lg\" variant=\"outline\" asChild>\r\r\n                  <Link href=\"#\">Compare all models</Link>\r\r\n                </Button>\r\r\n              </div>\r\r\n            </div>\r\r\n          </div>\r\r\n        </div>\r\r\n\r\r\n        {/* Desktop Navigation */}\r\r\n        <div className=\"hidden lg:flex justify-center space-x-3 mt-8\">\r\r\n          <Button\r\r\n            variant=\"outline\"\r\r\n            onClick={prevFeature}\r\r\n            className=\"flex items-center gap-2\"\r\r\n          >\r\r\n            <ChevronLeft className=\"h-4 w-4\" />\r\r\n            Previous feature\r\r\n          </Button>\r\r\n          <Button\r\r\n            variant=\"outline\"\r\r\n            onClick={nextFeature}\r\r\n            className=\"flex items-center gap-2\"\r\r\n          >\r\r\n            Next feature\r\r\n            <ChevronRight className=\"h-4 w-4\" />\r\r\n          </Button>\r\r\n        </div>\r\r\n      </div>\r\r\n    </section>\r\r\n  );\r\r\n}\r\r\n",
      "type": "registry:block"
    }
  ],
  "meta": {
    "tags": [
      "product-features"
    ]
  }
}